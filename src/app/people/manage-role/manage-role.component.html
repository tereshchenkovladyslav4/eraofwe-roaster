<!-- <div class="page-breadcrumb">
    <div class="row">
        <div class="col-12 d-flex no-block align-items-center">
            <div class="">
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a class="b-cum" routerLink="/features/welcome-aboard">Home</a></li>
                        <li class="breadcrumb-item active" aria-current="page">Manage Roles</li>
                    </ol>
                </nav>
            </div>
            <div class="ml-auto text-right">
                <a routerLink="/people/create-role"> <button type="submit" class="btn btn-succes create-role-btn web-btn">Create new role</button></a>
            </div>
        </div>
    </div>
</div> -->
<div class="total-loader" *ngIf="roleActive != 2">
    <!-- <img class="loader-gif-sub" src="/assets/images/loader.gif"> -->
    <div><img class="loader-gif web-loader" src="/assets/images/loader.gif">
        <img class="loader-gif mob-loader" src="/assets/images/coffeeloader-mobile.gif">
    </div>

</div>
<!-- <div *ngIf="isActive == 1"> -->

<div class="bg-fff coffee-exp" *ngIf=" roleActive == 2">

    <nav role="navigation" aria-labelledby="title-breadcrumb-1" class="breadcrumb1">
        <span id="title-breadcrumb-1" class="sr-only"></span>
        <ul class="bread-nav mb-md-0">
            <li class="b-cum">
                <a class="b-cum" routerLink="/features/welcome-aboard">{{appLanguage?.home}}</a><span class="padl-r" aria-hidden="true"><img class="group-img" src="/assets/images/arrow-1.png" alt=""></span>
            </li>
            <li class="b-cum">
                <a class="b-cum" routerLink="/people/manage-role">{{appLanguage?.people}}</a><span class="padl-r" aria-hidden="true"><img class="group-img" src="/assets/images/arrow-1.png" alt=""></span>
            </li>

            <li class="b-cum c-pink">{{appLanguage?.manage_roles}}</li>
            <div class="pull-right desk_view_user p-role-butn">
                <a routerLink="/people/create-role"> <button type="submit" class="btn btn-succes create-role-btn web-btn "> {{appLanguage?.create_new_role}}</button></a>
            </div>
            <!-- <button type="submit" class="btn col-12 col-md-2 pull-right create-role-btn web-btn d-md-block d-none"> CREATE NEW ROLE </button> -->

        </ul>
    </nav>
    <section class="roles-heading d-none d-lg-block">
        <h5 class="d-inline manage-title">{{appLanguage?.manage_roles}}</h5>
        <img src="assets/images/help-icon.svg" alt="" class="pointer-help pl-2" (click)="openModal(helpTemplate)">
        <!-- <i class="pi pi-question-circle help" pTooltip="Please Click to see help" tooltipPosition="bottom" (click)="showModalDialog()"></i> -->
        <!-- <p-dialog header="What is Lorem Ipsum?" [(visible)]="displayModal" [modal]="true" [style]="{width: '50vw'}" [baseZIndex]="10000" [draggable]="false" [resizable]="false">
            <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type
                specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum
                passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.</p>
        </p-dialog> -->
    </section>

    <div class="table-container desk_view_user">
        <div class="table-responsive" *ngIf="this.globals.checkItem('acl-list') || this.globals.checkItem('acl-management')">
            <table class="table">
                <thead class="table-header">
                    <tr class="header-row">
                        <th>
                            <label class="customcheckbox m-b-20">
                            <input type="checkbox" id="mainCheckbox"  [checked]="isAllChecked()"
                            (change)="checkAll($event)"/>
                            <span class="checkmark head-check"></span>
                        </label>
                        </th>
                        <!-- <th scope="col">Number of members</th>
                    <th scope="col">Roles</th>
                    <th scope="col"></th>
                    <th scope="col">Actions</th> -->
                        <th>{{appLanguage?.number_of_members}}</th>
                        <th scope="col">{{appLanguage?.roles}}</th>
                        <th scope="col"></th>
                        <th scope="col">{{appLanguage?.actions}}</th>
                    </tr>
                </thead>
                <!-- *ngIf="this.globals.checkItem('acl-list')=='view' || this.globals.checkItem('acl-list')=='manage'" -->
                <tbody class="customtable" >
                    <tr *ngFor="let data of sizes; let i = index" id="tr_{{data.id}}" >
                        <th>
                            <label class="customcheckbox">
                            <input type="checkbox" class="listCheckbox"  name="sizecb[]" value="{{data.id}}" [(ngModel)]="data.state"/>
                            <span class="checkmark head-check"></span>
                        </label>
                        </th>
                        <td>{{data.user_count}}</td>
                        <td>{{data.name}}</td>
                        <td>
                            <span class="show_btns">
                            <button type="button"  class="btn view-btn"  (click)="viewMembers(data)" id="view-btn">{{appLanguage?.view_members}}</button>
                            <button type="button"  (click)="addMembers($event,data)" class="btn add-btn" id="add-btn">{{appLanguage?.add_members}}</button>
                        </span>
                        </td>
                        <td>
                            <a class="menu-arrow" [popover]="poplistTemplate" placement="left" [outsideClick]="true" #pop="bs-popover">
                                <p><img class="ellipse-image" src="/assets/images/ellipses.png" alt=""></p>
                            </a>
                            <ng-template #poplistTemplate id="{{data.id}}">
                                    <!-- *ngIf="this.globals.checkItem('acl-management')=='manage'" -->
                                <div id="popover-mobile-content" >
                                    <ul class="list-group custom-popover">
                                        <!-- <li class="list-group-item" routerLink="/people/team-members"> <a class="pointer-item" (click)="addMembers($event,data);pop.hide();">Add Members </a></li>
                                    <li class="list-group-item"><a class="pointer-item" (click)="viewMembers(data);pop.hide();">View Members</a></li>
                                    <li class="list-group-item"><a class="pointer-item" (click)="updateRole(data.id);pop.hide();">Edit</a></li>
                                    <li class="list-group-item"><a class="pointer-item" (click)="pop.hide();">Rename</a></li>
                                    <li class="list-group-item"><a class="pointer-item" (click)="pop.hide();">Duplicate role</a></li>
                                    <li class="list-group-item"><a class="pointer-item" (click)="pop.hide();">Manage Permissions</a></li>
                                    <li class="list-group-item"><a class="pointer-item" (click)="deleteRole(data.id);pop.hide();">Delete</a></li> -->
                                        <li class="list-group-item" *ngIf="this.globals.checkItem('acl-management') && this.globals.permissions['acl-management'].manage" routerLink="/people/team-members"> <a class="pointer-item" (click)="addMembers($event,data);pop.hide();">{{appLanguage?.add_members}} </a></li>
                                        <li class="list-group-item" *ngIf="this.globals.checkItem('acl-list') || this.globals.checkItem('acl-management')"><a class="pointer-item" (click)="viewMembers(data);pop.hide();">{{appLanguage?.view_members}} </a></li>
                                        <li class="list-group-item" *ngIf="this.globals.checkItem('acl-management') && this.globals.permissions['acl-management'].manage"><a class="pointer-item" (click)="updateRole(data.id);pop.hide();">{{appLanguage?.update_role}}</a></li>
                                        <li class="list-group-item" *ngIf="this.globals.checkItem('acl-management') && this.globals.permissions['acl-management'].manage"><a class="pointer-item" (click)="pop.hide();">{{appLanguage?.rename}}</a></li>
                                        <li class="list-group-item" *ngIf="this.globals.checkItem('acl-management') && this.globals.permissions['acl-management'].manage"><a class="pointer-item" (click)="pop.hide();">{{appLanguage?.duplicate_role}} </a></li>
                                        <li class="list-group-item" *ngIf="this.globals.checkItem('acl-management') && this.globals.permissions['acl-management'].manage"><a class="pointer-item" (click)="updateRole(data.id);pop.hide();">{{appLanguage?.manage_permissions}}</a></li>
                                        <!-- <li class="list-group-item"><a class="pointer-item" (click)="deleteRole(data.id);pop.hide();">{{appLanguage?.delete_role}}</a></li> -->
                                        <li class="list-group-item" *ngIf="this.globals.checkItem('acl-management') && this.globals.permissions['acl-management'].manage"><a class="pointer-item" (click)="openDeleteModal(deleteTemplate,data.id);pop.hide();">{{appLanguage?.delete_role}}</a></li>
                                    </ul>
                                </div>
                            </ng-template>
                        </td>
                    </tr>
                    <!-- <tr>
                                        <th>
                                            <label class="customcheckbox">
                                                <input type="checkbox" class="listCheckbox" />
                                                <span class="checkmark head-check"></span>
                                            </label>
                                        </th>
                                        <td>3</td>
                                        <td>Accounting</td>
                                        <td>
                                            <button type="button" class="btn view-btn">View members</button>
                                            <button type="button" class="btn add-btn">Add members</button>
                                        </td>
                                        <td><a class="menu-arrow" [popover]="poplistTemplate" placement="left" [outsideClick]="true"><p class="">&#x22EE;</p></a></td>
                                    </tr>
                                    <tr>
                                        <th>
                                            <label class="customcheckbox">
                                                <input type="checkbox" class="listCheckbox"/>
                                                <span class="checkmark head-check"></span>
                                            </label>
                                        </th>
                                        <td>7</td>
                                        <td>Finance</td>
                                        <td>
                                             <button type="button" class="btn view-btn">View members</button>
                                            <button type="button" class="btn add-btn">Add members</button>
                                              </td>
                                        <td><a class="menu-arrow" [popover]="poplistTemplate" placement="left" [outsideClick]="true"><p class="">&#x22EE;</p></a></td>
                                    </tr>
                                    <tr>
                                        <th>
                                            <label class="customcheckbox">
                                                <input type="checkbox" class="listCheckbox" />
                                                <span class="checkmark head-check"></span>
                                            </label>
                                        </th>
                                        <td>2</td>
                                        <td>Master Admin</td>
                                        <td>
                                            <button type="button" class="btn view-btn">View members</button>
                                            <button type="button" class="btn add-btn">Add members</button>
                                        </td>
                                        <td><a class="menu-arrow" [popover]="poplistTemplate" placement="left" [outsideClick]="true"><p class="">&#x22EE;</p></a></td>
                                    </tr>
                                    <tr>
                                        <th>
                                            <label class="customcheckbox">
                                                <input type="checkbox" class="listCheckbox" />
                                                <span class="checkmark head-check"></span>
                                            </label>
                                        </th>
                                        <td>1</td>
                                        <td>Admin</td>
                                        <td>
                                            <button type="button" class="btn view-btn">View members</button>
                                            <button type="button" class="btn add-btn">Add members</button>
                                        </td>
                                        <td><a class="menu-arrow" [popover]="poplistTemplate" placement="left" [outsideClick]="true"><p class="">&#x22EE;</p></a></td>
                                    </tr>
                                    <tr>
                                        <th>
                                            <label class="customcheckbox">
                                                <input type="checkbox" class="listCheckbox" />
                                                <span class="checkmark head-check"></span>
                                            </label>
                                        </th>
                                        <td>10</td>
                                        <td>Sourcing</td>
                                        <td>
                                            <button type="button" class="btn view-btn">View members</button>
                                            <button type="button" class="btn add-btn">Add members</button>
                                        </td>
                                        <td><a class="menu-arrow" [popover]="poplistTemplate" placement="left" [outsideClick]="true"><p class="">&#x22EE;</p></a></td>
                                    </tr> -->
                </tbody>
                <!-- <div id="popover-content" style="display: none">
                                  <ul class="list-group custom-popover">
                                    <a routerLink="/people/add-members"><li class="list-group-item">Add Members</li></a>
                                    <li class="list-group-item"><a>View Members</a></li>
                                    <li class="list-group-item"><a>Edit</a></li>
                                    <li class="list-group-item"><a>Rename</a></li>
                                    <li class="list-group-item"><a>Duplicate role</a></li>
                                    <li class="list-group-item"><a>Manage Permissions</a></li>
                                    <li class="list-group-item"><a>Delete</a></li>
                                  </ul>
                                </div> -->
            </table>
        </div>

    </div>

    <div class="mobile_view_user">
        <div class="ml-auto text-left pull-left">
            <h4 class="mobile-manage">{{appLanguage?.manage_roles}}</h4>
        </div>
        <div class="ml-auto text-right pull-right pb-3">
            <a routerLink="/people/create-role"> <button type="submit" class="btn btn-succes create-role-btn ">{{appLanguage?.create_new_role}}</button></a>
        </div>

        <ul class="dyn-data d-flex" *ngFor="let role of sizes  let i = index" id="tr_{{role.id}}">
            <!--li> <label class="customcheckbox">
         <input type="checkbox" class="listCheckbox"  name="check"/>
         <span class="checkmark"></span>
       </label></li-->
            <li>
                <div class="salemark">
                    <h4>{{role.name}}</h4>
                    <p> {{role.user_count}} members </p>
                </div>
            </li>
            <li> <img src="assets/images/role-grey.svg" alt="Dashboard" (click)="members()"></li>
            <li>
                <a class="menu-arrow" [popover]="listTemplate" placement="left" [outsideClick]="true" #pop1="bs-popover">
                    <p><img class="ellipse-image" src="/assets/images/ellipses.png" alt=""></p>
                </a>
                <ng-template #listTemplate id="{{role.id}}">
                    <div id="popover-mobile-content">
                        <ul class="list-data custom-popover">
                            <li class="list-item"> <a class="pointer-item" (click)="addMembers($event,role);pop1.hide();">{{appLanguage?.add_members}} </a></li>
                            <li class="list-item"><a class="pointer-item" (click)="viewMembers(role);pop1.hide();">{{appLanguage?.view_members}} </a></li>
                            <li class="list-item"><a class="pointer-item" (click)="updateRole(role.id);pop1.hide();">{{appLanguage?.update_role}}</a></li>
                            <li class="list-group-item"><a class="pointer-item" (click)="pop1.hide();">{{appLanguage?.rename}}</a></li>
                            <li class="list-group-item"><a class="pointer-item" (click)="pop1.hide();">{{appLanguage?.duplicate_role}} </a></li>
                            <li class="list-item"><a class="pointer-item" (click)="updateRole(role.id);pop1.hide();">{{appLanguage?.manage_permissions}}</a></li>
                            <!-- <li class="list-item"><a class="pointer-item" (click)="deleteRole(role.id);pop1.hide();">{{appLanguage?.delete_role}}</a></li> -->
                            <li class="list-item"><a class="pointer-item" (click)="openDeleteModal(deleteTemplate,role.id);pop1.hide();">{{appLanguage?.delete_role}}</a></li>
                        </ul>
                    </div>
                </ng-template>
            </li>

        </ul>

        <!-- <ul class="dyn-data d-flex">
    <li> <label class="customcheckbox">
     <input type="checkbox" class="listCheckbox"  name="check"  value="red" />
     <span class="checkmark "></span>
   </label></li>
    <li>
      <div class="salemark">
       <h4> Sales & Marketing</h4>
       <p> 5 members</p>
      </div>
    </li>
    <li> <img  src="assets/images/black-add.svg" alt="Dashboard"></li>
    <li> <img  src="assets/images/black-add.svg" alt="Dashboard"></li>
 </ul>

 <ul class="dyn-data d-flex">
  <li> <label class="customcheckbox">
   <input type="checkbox" class="listCheckbox"  name="check"  value="green" />
   <span class="checkmark "></span>
 </label></li>
  <li>
    <div class="salemark">
     <h4> Sales & Marketing</h4>
     <p> 5 members</p>
    </div>
  </li>
  <li> <img  src="assets/images/black-add.svg" alt="Dashboard"></li>
  <li> <img  src="assets/images/black-add.svg" alt="Dashboard"></li>
</ul> -->

    </div>
    <ng-template #helpTemplate>
        <div class="modal-header border-header">
            <h1 class="fnt-play head-roles">Manage roles</h1>
            <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
                <span aria-hidden="true">&times;</span>
              </button>
        </div>
        <div class="modal-body mb-5 body-roles fnt-muli">
            Set up roles within your organisation by giving them permissionaccess to their certain areas within the platform. 
            Once the roles are setup you can begin adding and inviting your team to these respective roles
        </div>
    </ng-template>
    <ng-template #deleteTemplate>
            <!-- <div class="modal-header border-header">
                <h1 class="fnt-play head-roles">Manage roles</h1>
                <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
                    <span aria-hidden="true">&times;</span>
                  </button>
            </div> -->
            <div class="modal-body mt-5 mb-5 text-center fnt-muli">
               <div><img src="assets/images/delete-role.svg" alt=""></div>
               <div class="fnt-play fnt-24 fnt-bold oh__text mt-2">Oh noh :(</div>
               <div class="fnt-muli fnt-18 fnt-normal delete__text mt-2 pb-3">You sure you really want to delete this?</div>
               <div class="mt-4">
                    <button class="cancel-btn" (click)="modalRef.hide();">{{appLanguage?.cancel}}</button>
                    <button class="btn delete-btn ml-3" (click)="modalRef.hide();deleteRole(this.deleteroleId)">{{appLanguage?.delete}}</button>
               </div>
            </div>
        </ng-template>
</div>

<div class="blue manage-box">
    <ul class="box-data d-flex">
        <li> <img src="assets/images/black-add.svg" alt="Dashboard"></li>
        <li> <img src="assets/images/black-add.svg" alt="Dashboard"></li>
        <li> <img src="assets/images/black-add.svg" alt="Dashboard"></li>
        <li data-toggle="collapse" data-target="#demo"> <img src="assets/images/black-add.svg" alt="Dashboard"></li>
    </ul>
</div>
<div id="demo" class="collapse">
    Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
</div>




<div class="red manage-box">You have <strong>red checkbox</strong> so i am here</div>
<div class="green manage-box">You have <strong>green checkbox</strong> so i am here</div>

