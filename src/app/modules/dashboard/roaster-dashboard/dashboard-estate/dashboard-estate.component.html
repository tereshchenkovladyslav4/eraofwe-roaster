<div class="p-md-3 p-lg-4 border-md-main br-4 h-100 d-flex flex-column">
    <p class="fnt-16 fw-b text-clr334 mb-1 mb-md-2 d-none d-md-block">
        {{ 'afew_selected_estates' | translate }}
    </p>
    <p class="fnt-14 fnt-normal text-clr588 mb-2 mb-md-4 d-none d-md-block">
        {{ 'afew_selected_estates_description' | translate }}
        <!-- {{ 'special_estate_chart_des' | translate }} -->
    </p>

    <p class="fnt-16 fw-b text-clr334 mb-1 d-md-none">{{ 'sourced_coffee' | translate }}</p>
    <div class="row flex-fill">
        <div class="col-12 col-lg-5 col-md-5 mb-3 mb-md-0 pr-md-0 pl-md-0">
            <a routerLink="/sourcing/coffee-list">
                <div class="br-4 h-100 pr-md-0 pr-lg-2 chart-block">
                    <div class="fnt-14 fw-b text-clr334 br-4 bg-f8 p-2 m-1 d-md-none">Total sourced coffee</div>
                    <div class="h-md-100 d-flex flex-column p-4 pt-1 pt-md-2">
                        <app-pie-chart
                            [data]="chartData"
                            [total]="sourcing?.total_coffee"
                            [description]="'Total coffee available'"
                            [tooltipDisabled]="false"
                            [isWeight]="true"
                        ></app-pie-chart>
                    </div></div
            ></a>
        </div>
        <div class="col-12 col-lg-7 col-md-7 mb-3 mb-md-0">
            <div class="estates-block br-4 pt-1 pt-md-2">
                <div class="fnt-14 fw-b text-clr334 br-4 bg-f8 p-2 m-1 d-md-none">Source from latest estates</div>
                <div class="p-3">
                    <div *ngFor="let item of estates">
                        <div class="d-flex estate-wrap mb-3 mb-md-35 pb-3 pb-md-35">
                            <div class="mr-2 ml-lg-3">
                                <div class="cursor-pointer" routerLink="/sourcing/estate-details/{{ item.estate_id }}">
                                    <app-avatar
                                        [size]="36"
                                        [src]="
                                            item.company_image_thumbnail_url
                                                ? item.company_image_thumbnail_url
                                                : item.sourcing_image_url
                                        "
                                        [name]="item.name"
                                    ></app-avatar>
                                </div>
                            </div>
                            <div>
                                <p
                                    class="cursor-pointer fnt-14 fw-b text-clr334 mb-1"
                                    routerLink="/sourcing/estate-details/{{ item.estate_id }}"
                                >
                                    {{ item.name }}
                                </p>
                                <p class="fnt-12 fnt-md-14 fw-m text-clr334 mb-1">
                                    <span class="text-clr588">{{ 'origin' | translate }}:&nbsp;</span>
                                    {{ item.country | country }}
                                </p>
                                <p class="fnt-12 fnt-md-14 fw-m text-clr334 mb-0">
                                    <span class="text-clr588">Varieties:&nbsp;</span>
                                    <span *ngFor="let tag of item.tags; let i = index">
                                        {{ tag }}<span *ngIf="i !== item.tags.length - 1">,</span>
                                    </span>
                                </p>
                            </div>
                        </div>
                    </div>

                    <div class="w-100 text-right text-md-left">
                        <a class="arrow-link" routerLink="/sourcing/estate-list">See all estates</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
