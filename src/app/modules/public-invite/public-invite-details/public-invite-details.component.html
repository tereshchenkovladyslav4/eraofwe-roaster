<div class="main-block">
    <div class="w-100 pb-45">
        <a class="back-page" [routerLink]="'/mr-public-invite'"> {{ 'back' | translate }}</a>
    </div>
    <div class="d-flex flex-wrap justify-content-lg-between align-items-center border-main pt-35 px-4 br-4">
        <div class="w-tab-100 d-flex flex-column flex-lg-row align-items-center pb-4 pb-lg-0 mb-425">
            <img
                class="profile-image cursor-pointer"
                src="{{
                    userDetails?.company_image_thumbnail_url
                        ? userDetails?.company_image_thumbnail_url
                        : userDetails?.sourcing_image_url
                        ? userDetails?.sourcing_image_url
                        : 'assets/images/ft-roastry-profile.png'
                }}"
            />
            <div class="pl-lg-35 d-flex flex-column align-items-center align-items-lg-start pt-4">
                <p class="fnt-bold fnt-16 text-clr334 mb-3 mb-md-2 mt-4 mt-lg-0">
                    {{ userDetails?.name }}
                </p>
                <p class="fnt-14 fnt-600 text-clr588 mb-3">
                    Owned by {{ userDetails?.user_first_name }} {{ userDetails?.user_last_name }} &nbsp;&nbsp; &#9679;
                    &nbsp; Founded in
                    {{ userDetails?.founded_on }}
                </p>
            </div>
        </div>
        <div class="w-mob-100 d-flex flex-md-row-reverse mx-auto mx-lg-0">
            <div *ngIf="userDetails?.status === 'pending'" class="col pr-2 pr-md-0 pl-0 pl-md-2">
                <button class="btn-stroked w-100" type="button" (click)="onReject()">{{ 'reject' | translate }}</button>
            </div>
            <div *ngIf="userDetails?.status === 'pending'" class="col pl-2 pl-md-0 pr-0 pr-md-2">
                <button class="btn-raised w-100" (click)="onApprove()" type="button">
                    {{ 'approve' | translate }}
                </button>
            </div>
            <div *ngIf="userDetails?.status === 'approved'" class="col pl-2 pl-md-0 pr-0 pr-md-2">
                <a
                    class="btn-raised w-100"
                    [routerLink]="'/people/customer-details/' + userDetails?.onboarded_org_id"
                    [queryParams]="{ type: userDetails?.org_type }"
                    type="button"
                >
                    {{ 'view' | translate }}
                </a>
            </div>
            <div *ngIf="userDetails?.status === 'rejected'" class="col fnt-700 fnt-md-18 pl-2 pl-md-0 pr-0 pr-md-2">
                <span class="text-clr588"> {{ 'status' | translate }}</span
                >: <span class="text-clrd5">{{ 'rejected' | translate }}</span>
            </div>
        </div>
        <div class="login-section w-100 mt-3">
            <table class="pl-3 pr-3 p-md-0 d-block">
                <tr *ngIf="userDetails?.status !== 'rejected'" class="pt-3 pb-3 p-0 d-block d-md-flex">
                    <td class="fnt-12 fnt-bold fnt-md-14 pt-0 text-clr334 pl-md-2">
                        {{ 'last_login' | translate }}
                    </td>
                    <td class="fnt-14 fnt-600 fnt-md-14 pt-0 text-clr334">
                        {{
                            userDetails?.last_login_at
                                ? lastLoginFormat(userDetails?.last_login_at)
                                : lastLoginFormat(userDetails?.created_at)
                        }}
                    </td>
                </tr>
                <tr class="pt-3 pb-3 p-0 d-block d-md-flex">
                    <td class="fnt-12 fnt-bold fnt-md-14 pt-0 text-clr334 pl-md-2">
                        {{ 'vat_number' | translate }}
                    </td>
                    <td class="fnt-14 fnt-600 fnt-md-14 pt-0 text-clr334">
                        {{ userDetails?.vat_number }}
                    </td>
                </tr>
                <tr class="pt-3 pb-3 p-0 d-block d-md-flex">
                    <td class="fnt-12 fnt-bold fnt-md-14 pt-0 text-clr334 pl-md-2">
                        {{ 'company_registration_id' | translate }}
                    </td>
                    <td class="fnt-14 fnt-600 fnt-md-14 pt-0 text-clr334">
                        {{ userDetails?.registration_id }}
                    </td>
                </tr>
            </table>
        </div>
    </div>

    <div class="row list-section mt-3">
        <div class="col-lg-8">
            <div class="border-main p-0 px-md-4 pt-md-3 br-4">
                <div class="pl-0 pr-0">
                    <table class="pl-3 pr-3 p-md-0 d-block">
                        <tr class="pt-3 pb-3 p-0 d-block d-md-flex">
                            <td class="fnt-12 fnt-bold fnt-md-14 pt-0 text-clr334">
                                {{ 'website' | translate }}
                            </td>
                            <td class="fnt-14 fnt-600 fnt-md-14 pt-0 text-clr334">
                                {{ userDetails?.website }}
                            </td>
                        </tr>
                        <tr class="pt-3 pb-3 p-0 d-block d-md-flex">
                            <td class="fnt-12 fnt-bold fnt-md-14 pt-0 text-clr334">
                                {{ 'email_address' | translate }}
                            </td>
                            <td class="fnt-14 fnt-600 fnt-md-14 pt-0 text-clr334">
                                {{ userDetails?.email }}
                            </td>
                        </tr>
                        <tr class="pt-3 pb-3 p-0 d-block d-md-flex">
                            <td class="fnt-12 fnt-bold fnt-md-14 pt-0 text-clr334">
                                {{ 'phone_number' | translate }}
                            </td>
                            <td class="fnt-14 fnt-600 fnt-md-14 pt-0 text-clr334">
                                {{ userDetails?.phone }}
                            </td>
                        </tr>
                        <tr class="pt-3 pb-3 p-0 d-block d-md-flex">
                            <td class="fnt-12 fnt-bold fnt-md-14 pt-0 text-clr334">
                                {{ 'country' | translate }}
                            </td>
                            <td class="fnt-14 fnt-600 fnt-md-14 pt-0 text-clr334">
                                {{ userDetails?.country | country }}
                            </td>
                        </tr>
                        <tr class="pt-3 pb-3 p-0 d-block d-md-flex">
                            <td class="fnt-12 fnt-bold fnt-md-14 pt-0 text-clr334">
                                {{ 'address' | translate }}
                            </td>
                            <td class="fnt-14 fnt-600 fnt-md-14 pt-0 text-clr334">
                                {{ userDetails?.address_line1 }}
                                {{ userDetails?.address_line2 }}
                                <p class="mb-0">{{ userDetails?.city }}</p>
                                <p class="mb-0">{{ userDetails?.state }}</p>
                            </td>
                        </tr>
                        <tr class="pt-3 pb-3 p-0 d-block d-md-flex">
                            <td class="fnt-12 fnt-bold fnt-md-14 pt-0 text-clr334">
                                {{ 'social_media' | translate }}
                            </td>
                            <td class="fnt-14 fnt-600 fnt-md-14 pt-0 text-clr334">
                                <p class="mb-0">{{ userDetails?.fb_profile }}</p>
                                <p class="mb-0">{{ userDetails?.ig_profile }}</p>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
