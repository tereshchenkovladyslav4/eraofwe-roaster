<div class="form-container">
    <div class="row pl-2 pr-2 mt-4">
        <div class="col-md-12 pl-2 pr-2 pb-3 d-none d-md-block d-lg-none">
            <ng-template *ngTemplateOutlet="rightSidePanel"></ng-template>
        </div>
        <div class="col-lg-8 col-12 pt-0 pl-2 pr-2">
            <div class="border-md-main br-4 p-lg-4 p-md-3">
                <div class="row border-md-main border-md-none br-6 mt-3 m-0 p-0 p-md-0 mr-md-0 ml-md-0">
                    <div class="sewn-form-field col-6 col-md-6 m-0 pl-0 pr-md-2 pr-0 pt-0 pt-md-0">
                        <label class="fnt-12 fnt-md-14" for="founded_in">
                            {{ 'founded_in' | translate }}
                        </label>
                        <p class="fnt-14 fw-m text-clr334 mb-1">
                            {{ profileCreationService.organizationProfile?.founded_on }}
                        </p>
                    </div>

                    <div class="sewn-form-field col-6 mt-0 col-md-6 mt-md-0 mb-0 pl-0 pr-0 pl-md-2">
                        <label class="fnt-12 fnt-md-14" for="owner_name">
                            {{ 'owner_name' | translate }}
                        </label>
                        <p class="fnt-14 fw-m text-clr334 mb-1">
                            {{ profileCreationService.organizationProfile?.owner_name }}
                        </p>
                    </div>
                </div>

                <div
                    class="row border-md-main border-md-none br-4 mb-3 mb-md-45 m-0 mt-3 mt-md-0 p-0 p-md-0 mr-md-0 ml-md-0"
                >
                    <div class="sewn-form-field col-md-12 mt-md-45 p-0 mb-0">
                        <label class="fnt-12 fnt-md-14" for="summary">{{ 'roastery_summary' | translate }} </label>
                        <p class="fnt-14 fw-m text-clr334">
                            {{ profileCreationService.organizationProfile?.description }}
                        </p>
                    </div>
                </div>

                <div class="d-block d-md-none mb-3 mb-md-4">
                    <ng-template *ngTemplateOutlet="rightSidePanel"></ng-template>
                </div>

                <!-- company details -->

                <hr class="d-none d-lg-block" />
                <div class="row border-md-main border-md-none br-4 mt-md-45 mb-2 m-0 p-0 p-md-0">
                    <div class="col-9 mb-3 mb-md-45 p-0">
                        <p class="fnt-18 fw-b text-clr334 w-100 mb-1">Company details</p>
                    </div>

                    <div class="sewn-form-field col-6 col-md-6 p-0 pr-md-2 mb-3 mb-md-4">
                        <label class="fnt-12 fnt-md-14" for="vat_nos">VAT number</label>
                        <p class="fnt-14 fw-m text-clr334 mb-0">
                            {{ profileCreationService.organizationProfile?.vat_number }}
                        </p>
                    </div>
                    <div class="sewn-form-field col-6 col-md-6 p-0 pl-md-2 mb-0 mb-md-4">
                        <label for="cmpy_rid" class="fnt-12 fnt-md-14">Company registration ID</label>
                        <p class="fnt-14 fw-m text-clr334 mb-0">
                            {{ profileCreationService.organizationProfile?.registration_id }}
                        </p>
                    </div>
                </div>

                <hr class="mt-4 mb-4 mt-md-3" />

                <div class="row mt-md-45 mb-3 mb-md-4 ml-0 mr-0">
                    <div class="col-12 p-0">
                        <p class="fnt-18 fw-b text-clr334 w-100 mb-1">
                            {{ 'roastery_capabilities' | translate }}
                        </p>
                        <p class="fnt-14 fw-m text-clr588 w-100 m-0">
                            {{ 'our_roastery_capabilities_storage' | translate }}.
                        </p>
                    </div>
                </div>

                <div class="row mb-4 mb-md-45">
                    <div class="col-lg-12">
                        <div
                            class="capability-container d-flex border-md-main br-4 p-2 pt-md-4 pb-md-1 pl-md-4 pr-md-4"
                        >
                            <div class="capability-meta-data pr-3 pr-md-4 border-right">
                                <label class="fw-m text-clr588">
                                    {{ 'roaster_capacity' | translate }}
                                </label>
                                <p class="fnt-md-38 fnt-28 fw-b text-clr334">
                                    {{ profileCreationService.organizationProfile?.capacity }} Kgs
                                </p>
                            </div>
                            <div class="capability-content fw-b pl-25 pt-md-3 pl-md-4 text-clr334">
                                {{ profileCreationService.organizationProfile?.capabilities }}
                            </div>
                        </div>
                    </div>
                </div>

                <hr class="mt-2 mb-2" />

                <!-- Brand Profile -->

                <div class="row mb-4 mb-md-45 pl-2 pr-2">
                    <div
                        class="col-12 pl-2 pr-2"
                        *ngFor="let branch of branches; let i = index"
                        [ngClass]="[i === branches.length - 1 ? ' mb-0' : ' mb-25']"
                    >
                        <div class="brand-item-container">
                            <div class="border-main br-4 brand-item pl-md-3 p-md-4 d-flex align-items-center">
                                <div class="brand-meta-container">
                                    <p class="fnt-16 fw-b text-clr334 mb-2">
                                        {{ branch.name }}
                                    </p>
                                    <p class="fnt-14 fw-m text-clr334">
                                        {{ branch.address_line1 }} {{ branch.address_line2 }}, {{ branch.city }},
                                        {{ branch.state }}, {{ branch.zipcode }}
                                    </p>
                                    <p class="fnt-14 fw-m text-clr588">
                                        {{ branch.description }}
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div *ngIf="!branches?.length" class="text-center p-2">
                        <span> No branches found.</span>
                    </div>
                </div>

                <hr class="mt-0 mb-0" />

                <div class="d-block">
                    <div class="employer mt-4">
                        <p class="fnt-18 fw-b text-clr334 w-100 mb-1">{{ 'contacts' | translate }}</p>
                        <p class="fnt-14 fw-m text-clr588 w-100 m-0 mb-4">
                            {{ 'list_down_top_employees' | translate }}
                        </p>
                        <div class="row p-0">
                            <div
                                class="col-lg-3 col-md-3 col-sm-6 col-6 mb-3 pl-3 pr-3"
                                *ngFor="let contact of profileCreationService.roasterContacts"
                            >
                                <div class="employ-profile">
                                    <div class="p-gal">
                                        <img
                                            class="w-100"
                                            [src]="contact.profile_image_url || 'assets/images/profile.svg'"
                                        />
                                    </div>
                                    <div class="profile-des">
                                        <p class="fnt-16 fw-b mb-1 mt-3 text-clr334">
                                            {{ contact.name | titlecase }}
                                        </p>
                                        <p class="fnt-14 fw-m text-clr588 mb-0">
                                            {{ contact.roles[0] || '-' }}
                                        </p>
                                    </div>
                                    <div class="mt-3 mt-lg-45">
                                        <button class="btn-file-upload d-flex" (click)="openChat(contact)">
                                            <img class="mr-2" src="assets/images/message-icon.svg" alt="message icon" />
                                            {{ 'message' | translate }}
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-4 col-12 pt-0 pl-2 pr-2 d-none d-lg-block">
            <ng-template *ngTemplateOutlet="rightSidePanel"></ng-template>
        </div>
    </div>
</div>

<ng-template #rightSidePanel>
    <div class="row m-0">
        <div class="col-12 col-md-6 col-lg-12 p-0 pl-md-0 pr-md-2 p-lg-0">
            <div class="border-main br-4 p-0">
                <div class="header fnt-18 fw-b text-clr334 m-1">{{ 'awards_and_certificates' | translate }}</div>
                <div class="row mt-3 m-0" *ngFor="let certificate of certificatesArray; let i = index">
                    <div class="col-12">
                        <div
                            class="w-100 certification-item-container d-flex justify-content-between"
                            [ngClass]="{ 'border-div': i !== certificatesArray.length - 1 }"
                        >
                            <div class="certification-item-metadata d-flex mb-25">
                                <img
                                    class="img-estate"
                                    [src]="certificate.certificate_type_url"
                                    [alt]="certificate.certificate_type"
                                />
                                <div class="certification-description ml-2">
                                    <ul>
                                        <li class="fw-m">
                                            {{ certificate.certificate_type_name }}
                                        </li>
                                        <li class="fw-m text-clr588">
                                            {{ certificate.year }}
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-12 col-md-6 col-lg-12 p-0 pl-md-2 pr-md-0 p-lg-0">
            <div class="border-main br-4 mt-3 mt-md-0 mt-lg-3 p-0">
                <div class="header fnt-18 fw-b text-clr334 m-1">{{ 'employee_details' | translate }}</div>
                <div class="w-100">
                    <div class="d-flex employee-details-container pt-45 pb-45 pl-4 pr-4">
                        <div class="w-50 border-right">
                            <p class="m-0 fnt-32 fw-b text-clr334">
                                {{ profileCreationService.organizationProfile?.total_employees }}
                            </p>
                            <p class="mt-2 mb-0 fnt-18 fw-m text-clr588">{{ 'total_employees' | translate }}</p>
                        </div>
                        <div class="w-50 pl-45">
                            <p class="m-0 fnt-24 fnt-md-32 fw-b text-clr334">
                                {{ profileCreationService.organizationProfile?.avg_employee_age }}
                            </p>
                            <p class="mt-2 mb-0 fnt-14 fnt-md-18 fw-m text-clr588">
                                {{ 'average_age' | translate }}
                            </p>
                        </div>
                    </div>
                </div>

                <div class="w-100">
                    <div
                        *ngIf="
                            this.profileCreationService.organizationProfile?.male_employee_count == null &&
                            this.profileCreationService.organizationProfile?.female_employee_count == null
                        "
                    >
                        <p class="fnt-18 fw-b text-center">{{ 'no_data_display' | translate }}</p>
                    </div>
                    <div class="custom-chart-container">
                        <app-pie-area-chart [results]="profileCreationService.single"></app-pie-area-chart>
                    </div>
                </div>
            </div>
        </div>
    </div>
</ng-template>
