<div class="form-container">
    <div class="row pl-2 pr-2 mt-4">
        <div class="col-md-12 pl-2 pr-2 pb-3 d-none d-md-block d-lg-none">
            <ng-template *ngTemplateOutlet="rightSidePanel"></ng-template>
        </div>
        <div class="col-lg-8 col-12 pt-0 pl-2 pr-2">
            <div class="border-md-main br-4 p-lg-4 p-md-3">
                <div class="row border-md-main border-md-none br-6 mt-3 m-0 p-0 p-md-0 mr-md-0 ml-md-0">
                    <div class="sewn-form-field col-6 col-md-6 m-0 pl-0 pr-md-2 pr-0 pt-0 pt-md-0">
                        <label class="fnt-12 fnt-md-14" for="founded_in">
                            {{ 'founded_in' | translate }}
                        </label>
                        <p class="fnt-14 fnt-600 text-clr334 mb-1">
                            {{ profileCreationService.organizationProfile?.founded_on }}
                        </p>
                    </div>

                    <div class="sewn-form-field col-6 mt-0 col-md-6 mt-md-0 mb-0 pl-0 pr-0 pl-md-2">
                        <label class="fnt-12 fnt-md-14" for="owner_name">
                            {{ 'owner_name' | translate }}
                        </label>
                        <p class="fnt-14 fnt-600 text-clr334 mb-1">
                            {{ profileCreationService.organizationProfile?.owner_name }}
                        </p>
                    </div>
                </div>

                <div
                    class="row border-md-main border-md-none br-4 mb-3 mb-md-45 m-0 mt-3 mt-md-0 p-0 p-md-0 mr-md-0 ml-md-0"
                >
                    <div class="sewn-form-field col-md-12 mt-md-45 p-0 mb-0">
                        <label class="fnt-12 fnt-md-14" for="summary">Estate Summary </label>

                        <p class="fnt-14 fnt-600 text-clr334">
                            {{ profileCreationService.organizationProfile?.description }}
                        </p>
                    </div>
                </div>

                <div class="d-block d-md-none mb-3 mb-md-4">
                    <ng-template *ngTemplateOutlet="rightSidePanel"></ng-template>
                </div>

                <hr class="mt-4 mb-4 mt-md-45 d-none d-md-block" />

                <!-- estate details -->
                <div class="row mt-4 mt-md-45 mb-3 mb-md-4 ml-0 mr-0">
                    <div class="col-12 p-0">
                        <p class="fnt-18 fnt-bold text-clr334 w-100 mb-1">Estate details</p>
                    </div>
                </div>

                <div class="row">
                    <div class="col-6 col-md-3 mb-3 mb-md-0">
                        <div class="estate-items pl-2 pl-md-0">
                            <img src="assets/images/total_farm_area.svg" />
                            <p class="fnt-14 fnt-600 text-clr588 mt-25 mb-1">Total from area</p>
                            <p class="fnt-14 fnt-bold text-clr73c mt-0 mb-0">
                                {{ profileCreationService.organizationProfile?.total_area }}
                                {{ profileCreationService.organizationProfile?.total_area_unit }}
                            </p>
                        </div>
                    </div>
                    <div class="col-6 col-md-3 mb-3 mb-md-0 p-0">
                        <div class="estate-items">
                            <img src="assets/images/total_coffee_area.svg" />
                            <p class="fnt-14 fnt-600 text-clr588 mt-25 mb-1">Total coffee area</p>
                            <p class="fnt-14 fnt-bold text-clr73c mt-0 mb-0">
                                {{ profileCreationService.organizationProfile?.coffee_area }}
                                {{ profileCreationService.organizationProfile?.coffee_area_unit }}
                            </p>
                        </div>
                    </div>
                    <div class="col-6 col-md-3 p-md-0">
                        <div class="estate-items pl-2 pl-md-0">
                            <img src="assets/images/altitude_range.svg" />
                            <p class="fnt-14 fnt-600 text-clr588 mt-25 mb-1">Altitude range</p>
                            <p class="fnt-14 fnt-bold text-clr73c mt-0 mb-0">
                                {{ profileCreationService.organizationProfile?.altitude_start }} -
                                {{ profileCreationService.organizationProfile?.altitude_end }}
                                m
                            </p>
                        </div>
                    </div>
                    <div class="col-6 col-md-3 p-0">
                        <div class="estate-items">
                            <img src="assets/images/harvested_year.svg" />
                            <p class="fnt-14 fnt-600 text-clr588 mt-25 mb-1">Harvested year</p>
                            <p class="fnt-14 fnt-bold text-clr73c mt-0 mb-0">
                                {{ profileCreationService.organizationProfile?.crop_year_start | month: 'MMMM' }} -
                                {{ profileCreationService.organizationProfile?.crop_year_end | month: 'MMMM' }}
                            </p>
                        </div>
                    </div>
                </div>

                <div class="row m-0 mt-4 mt-md-45">
                    <div class="col-12 border-main br-4 pt-0 pb-0 pl-3 pr-3 pl-md-4 pr-md-4">
                        <div class="row m-0 pt-3 pb-3 pt-md-4 pb-md-4 border-bottom">
                            <div class="col-6 p-0">
                                <p class="fnt-14 fnt-600 text-clr588 m-0 w-85 w-md-100">
                                    Annual production of all crops
                                </p>
                            </div>
                            <div class="col-6 p-0">
                                <p class="fnt-14 fnt-600 text-clr051 m-0 text-left text-md-right">
                                    {{ profileCreationService.organizationProfile?.total_production }}
                                    {{ profileCreationService.organizationProfile?.total_production_unit }}
                                </p>
                            </div>
                        </div>
                        <div class="row m-0 pt-3 pb-3 pt-md-4 pb-md-4 border-bottom">
                            <div class="col-6 p-0">
                                <p class="fnt-14 fnt-600 text-clr588 m-0 w-85 w-md-100">Annual production of coffee</p>
                            </div>
                            <div class="col-6 p-0">
                                <p class="fnt-14 fnt-600 text-clr051 m-0 text-left text-md-right">
                                    {{ profileCreationService.organizationProfile?.coffee_production }}
                                    {{ profileCreationService.organizationProfile?.coffee_production_unit }}
                                </p>
                            </div>
                        </div>
                        <div class="row m-0 pt-3 pb-3 pt-md-4 pb-md-4 border-bottom">
                            <div class="col-6 p-0">
                                <p class="fnt-14 fnt-600 text-clr588 m-0 w-85 w-md-100">Access to agronomist</p>
                            </div>
                            <div class="col-6 p-0">
                                <p class="fnt-14 fnt-600 text-clr051 m-0 text-left text-md-right">
                                    {{ profileCreationService.organizationProfile?.agronomist_access }}
                                </p>
                            </div>
                        </div>
                        <div class="row m-0 pt-3 pb-3 pt-md-4 pb-md-4 border-bottom">
                            <div class="col-6 p-0">
                                <p class="fnt-14 fnt-600 text-clr588 m-0 w-85 w-md-100">Wild animals in the region</p>
                            </div>
                            <div class="col-6 p-0">
                                <p class="fnt-14 fnt-600 text-clr051 m-0 text-left text-md-right">
                                    {{ profileCreationService.organizationProfile?.wild_animals }}
                                </p>
                            </div>
                        </div>
                        <div class="row m-0 pt-3 pb-3 pt-md-4 pb-md-4 border-bottom">
                            <div class="col-6 p-0">
                                <p class="fnt-14 fnt-600 text-clr588 m-0 w-85 w-md-100">Number of family members</p>
                            </div>
                            <div class="col-6 p-0">
                                <p class="fnt-14 fnt-600 text-clr051 m-0 text-left text-md-right">
                                    {{ profileCreationService.organizationProfile?.family_member_count }}
                                </p>
                            </div>
                        </div>
                        <div class="row m-0 pt-3 pb-3 pt-md-4 pb-md-4">
                            <div class="col-6 p-0">
                                <p class="fnt-14 fnt-600 text-clr588 m-0 w-85 w-md-100">
                                    Number of family members working on the estate
                                </p>
                            </div>
                            <div class="col-6 p-0">
                                <p class="fnt-14 fnt-600 text-clr051 m-0 text-left text-md-right">
                                    {{ profileCreationService.organizationProfile?.estate_family_member_count }}
                                </p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row m-0 mt-3">
                    <div class="col-12 border-main br-4 pt-0 pb-0 pl-3 pr-3 pl-md-4 pr-md-4">
                        <div class="row m-0 pt-3 pb-3 pt-md-4 pb-md-4 border-bottom">
                            <div class="col-6 p-0">
                                <p class="fnt-14 fnt-600 text-clr588 m-0 w-85 w-md-100">Company Name</p>
                            </div>
                            <div class="col-6 p-0">
                                <p class="fnt-14 fnt-600 text-clr051 m-0 text-left text-md-right">
                                    {{ profileCreationService.organizationProfile?.company_name }}
                                </p>
                            </div>
                        </div>
                        <div class="row m-0 pt-3 pb-3 pt-md-4 pb-md-4 border-bottom">
                            <div class="col-6 p-0">
                                <p class="fnt-14 fnt-600 text-clr588 m-0 w-85 w-md-100">
                                    Indentification/ Company Number
                                </p>
                            </div>
                            <div class="col-6 p-0">
                                <p class="fnt-14 fnt-600 text-clr051 m-0 text-left text-md-right">
                                    {{ profileCreationService.organizationProfile?.company_number }}
                                </p>
                            </div>
                        </div>
                        <div class="row m-0 pt-3 pb-3 pt-md-4 pb-md-4 border-bottom">
                            <div class="col-6 p-0">
                                <p class="fnt-14 fnt-600 text-clr588 m-0 w-85 w-md-100">Legal entity</p>
                            </div>
                            <div class="col-6 p-0">
                                <p class="fnt-14 fnt-600 text-clr051 m-0 text-left text-md-right">
                                    {{ profileCreationService.organizationProfile?.legal_entity }}
                                </p>
                            </div>
                        </div>
                        <div class="row m-0 pt-3 pb-3 pt-md-4 pb-md-4 border-bottom">
                            <div class="col-6 p-0">
                                <p class="fnt-14 fnt-600 text-clr588 m-0 w-85 w-md-100">Belongs to</p>
                            </div>
                            <div class="col-6 p-0">
                                <p class="fnt-14 fnt-600 text-clr051 m-0 text-left text-md-right">
                                    {{ profileCreationService.organizationProfile?.belongs_to }}
                                </p>
                            </div>
                        </div>
                        <div class="row m-0 pt-3 pb-3 pt-md-4 pb-md-4">
                            <div class="col-6 p-0">
                                <p class="fnt-14 fnt-600 text-clr588 m-0 w-85 w-md-100">
                                    Name of cluster/ Co-operative
                                </p>
                            </div>
                            <div class="col-6 p-0">
                                <p class="fnt-14 fnt-600 text-clr051 m-0 text-left text-md-right">
                                    {{ profileCreationService.organizationProfile?.cluster_cop_name }}
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- end estate details -->

                <hr class="mt-4 mt-md-45 mb-0" />

                <div class="d-block">
                    <div class="employer mt-4">
                        <p class="fnt-18 fnt-bold text-clr334 w-100 mb-1">{{ 'contacts' | translate }}</p>
                        <p class="fnt-14 fnt-600 text-clr588 w-100 m-0 mb-4">
                            {{ 'list_down_top_employees' | translate }}
                        </p>
                        <div class="row p-0">
                            <div
                                class="col-lg-3 col-md-3 col-sm-6 col-6 mb-3 pl-3 pr-3"
                                *ngFor="let contact of profileCreationService.estateContacts"
                            >
                                <div class="employ-profile">
                                    <div class="p-gal">
                                        <app-user-detail
                                            [imageUrl]="contact.profile_image_url || 'assets/images/profile.svg'"
                                            [userId]="contact?.user_id"
                                            orgType="es"
                                            shape="rectangle"
                                            size="120"
                                        ></app-user-detail>
                                    </div>
                                    <div class="profile-des">
                                        <p class="fnt-16 fnt-bold mb-1 mt-3 text-clr334">
                                            {{ contact.name | titlecase }}
                                        </p>
                                        <p class="fnt-14 fnt-500 text-clr588 mb-0">
                                            {{ contact.roles[0] || '-' }}
                                        </p>
                                    </div>
                                    <div class="mt-3 mt-lg-45">
                                        <button class="btn-file-upload" (click)="openChat(contact)">
                                            <img class="mr-2" src="assets/images/message-icon.svg" alt="message icon" />
                                            {{ 'message' | translate }}
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-4 col-12 pt-0 pl-2 pr-2 d-none d-lg-block">
            <ng-template *ngTemplateOutlet="rightSidePanel"></ng-template>
        </div>
    </div>
</div>

<ng-template #rightSidePanel>
    <div class="row m-0">
        <div class="col-12 col-md-6 col-lg-12 p-0 pl-md-0 pr-md-2 p-lg-0">
            <div class="border-main br-4 p-0">
                <div class="header fnt-18 fnt-bold text-clr334 m-1">{{ 'awards_and_certificates' | translate }}</div>
                <div class="row mt-3 m-0" *ngFor="let certificate of certificatesArray; let i = index">
                    <div class="col-12 cursor-pointer" (click)="certificateClicked(certificate)">
                        <div
                            class="w-100 certification-item-container d-flex justify-content-between"
                            [ngClass]="{ 'border-div': i !== certificatesArray.length - 1 }"
                        >
                            <div class="certification-item-metadata d-flex mb-25">
                                <img
                                    class="img-estate"
                                    [src]="certificate.certificate_type_url"
                                    [alt]="certificate.certificate_type"
                                />
                                <div class="certification-description ml-2">
                                    <ul class="no-bullet-ul">
                                        <li class="fnt-600">
                                            {{ certificate.certificate_type_name }}
                                        </li>
                                        <li class="fnt-600 text-clr588">
                                            {{ certificate.year }}
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-12 col-md-6 col-lg-12 p-0 pl-md-2 pr-md-0 p-lg-0">
            <div class="border-main br-4 mt-3 mt-md-0 mt-lg-3 p-0">
                <div class="header fnt-18 fnt-bold text-clr334 m-1">{{ 'employee_details' | translate }}</div>
                <div class="w-100">
                    <div class="d-flex employee-details-container pt-45 pb-45 pl-4 pr-4">
                        <div class="w-50 border-right">
                            <p class="m-0 fnt-24 fnt-md-32 fnt-bold text-clr334">
                                {{ profileCreationService.organizationProfile?.total_employees }}
                            </p>
                            <p class="mt-2 mb-0 fnt-14 fnt-md-18 fnt-600 text-clr588">
                                {{ 'total_employees' | translate }}
                            </p>
                        </div>
                        <div class="w-50 pl-45">
                            <p class="m-0 fnt-32 fnt-bold text-clr334">
                                <!-- {{ profileCreationService.organizationProfile?.avg_employee_age }} -->
                            </p>
                            <!-- <p class="mt-2 mb-0 fnt-18 fnt-600 text-clr588">{{ 'average_age' | translate }}</p> -->
                        </div>
                    </div>
                </div>

                <div class="w-100">
                    <div
                        *ngIf="
                            this.profileCreationService.organizationProfile?.part_time_employee_count == null &&
                            this.profileCreationService.organizationProfile?.full_time_employee_count == null
                        "
                    >
                        <p class="fnt-18 fnt-bold text-center">{{ 'no_data_display' | translate }}</p>
                    </div>
                    <div class="custom-chart-container">
                        <app-pie-area-chart [results]="profileCreationService.single"></app-pie-area-chart>
                    </div>
                </div>
            </div>
        </div>
    </div>
</ng-template>
