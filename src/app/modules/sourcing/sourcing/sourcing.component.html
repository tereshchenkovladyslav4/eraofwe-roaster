<section>
    <div class="bg-white br-4 p-3 p-md-4 px-lg-5 py-lg-3">
        <div class="py-lg-3">
            <div class="row no-gutters">
                <div class="col-6 col-md-3 col-lg-2">
                    <p-multiSelect
                        [options]="originItems"
                        [(ngModel)]="queryParams.origin"
                        defaultLabel="{{ globals.languageJson?.select_origin }}"
                        [maxSelectedLabels]="1"
                        selectedItemsLabel="{0} Origins"
                        [filter]="false"
                        (onChange)="filterCall()"
                        styleClass="w-100 mb-3 mb-md-4 border-rounded-right-0"
                    ></p-multiSelect>
                </div>
                <div class="col-6 col-md-3 col-lg-2">
                    <p-multiSelect
                        [options]="varietyItems"
                        [(ngModel)]="queryParams.species"
                        defaultLabel="{{ globals.languageJson?.add_variety }}"
                        [maxSelectedLabels]="1"
                        selectedItemsLabel="{0} Species"
                        [filter]="false"
                        (onChange)="filterCall()"
                        styleClass="w-100 mb-3 mb-md-4 border-rounded-left-0 border-rounded-right-md-0"
                    ></p-multiSelect>
                </div>
                <div class="col-12 col-md-6 col-lg-3 mb-3 mb-md-4">
                    <span class="p-input-icon-left w-100">
                        <i class="pi pi-search"></i>
                        <input
                            type="text"
                            pInputText
                            [(ngModel)]="queryParams.name"
                            (change)="filterCall()"
                            placeholder="{{ globals.languageJson?.search_by_name }}"
                            class="w-100 border-rounded-left-md-0"
                        />
                    </span>
                </div>
            </div>
            <div>
                <p-dropdown
                    [options]="gradeItems"
                    [(ngModel)]="queryParams.grade"
                    (onChange)="filterCall()"
                    placeholder="Grade"
                    styleClass="round-border mr-2 mb-3 mb-md-4"
                ></p-dropdown>
                <p-dropdown
                    [options]="cropItems"
                    [(ngModel)]="queryParams.crop_year"
                    (onChange)="filterCall()"
                    placeholder="{{ globals.languageJson?.crop_year }}"
                    styleClass="round-border mr-2 mb-3 mb-md-4"
                ></p-dropdown>
                <p-dropdown
                    (click)="openModal(filterTemplate)"
                    placeholder="{{ globals.languageJson?.more_filters }}"
                    styleClass="round-border mr-2 mb-3 mb-md-4"
                ></p-dropdown>
                <p-dropdown
                    [options]="weightItems"
                    [(ngModel)]="queryParams.weight"
                    (onChange)="filterCall()"
                    styleClass="round-border mr-2 mb-3 mb-md-4 "
                ></p-dropdown>
            </div>

            <div class="position-relative">
                <div class="filter-sort d-none d-md-block">
                    <p-dropdown
                        [options]="sortItems"
                        [(ngModel)]="queryParams.sort_by"
                        (onChange)="filterCall()"
                        placeholder="{{ globals.languageJson?.sort_by }}"
                        styleClass="round-border mr-2"
                    ></p-dropdown>
                    <p-selectButton
                        [options]="viewModeItems"
                        [(ngModel)]="viewMode"
                        (onChange)="changeViewMode()"
                        styleClass="select-layout"
                    >
                        <ng-template let-item>
                            <svg
                                *ngIf="item.value === 'table'"
                                xmlns="http://www.w3.org/2000/svg"
                                width="14"
                                height="10"
                                viewBox="0 0 14 10"
                            >
                                <path
                                    fill="#FFF"
                                    d="M13.25 8c.414 0 .75.336.75.75s-.336.75-.75.75h-9.5c-.414 0-.75-.336-.75-.75S3.336 8 3.75 8h9.5zM.75 8c.414 0 .75.336.75.75s-.336.75-.75.75S0 9.164 0 8.75.336 8 .75 8zm12.5-4c.414 0 .75.336.75.75s-.336.75-.75.75h-9.5c-.414 0-.75-.336-.75-.75S3.336 4 3.75 4h9.5zM.75 4c.414 0 .75.336.75.75s-.336.75-.75.75S0 5.164 0 4.75.336 4 .75 4zm12.5-4c.414 0 .75.336.75.75s-.336.75-.75.75h-9.5C3.336 1.5 3 1.164 3 .75S3.336 0 3.75 0h9.5zM.75 0c.414 0 .75.336.75.75s-.336.75-.75.75S0 1.164 0 .75.336 0 .75 0z"
                                />
                            </svg>
                            <svg
                                *ngIf="item.value === 'grid'"
                                xmlns="http://www.w3.org/2000/svg"
                                width="13"
                                height="13"
                                viewBox="0 0 13 13"
                            >
                                <path
                                    fill="#232334"
                                    d="M12.387 7.195c.338 0 .613.275.613.613v4.579c0 .338-.275.613-.613.613H7.808c-.338 0-.613-.275-.613-.613V7.808c0-.338.275-.613.613-.613zm-7.195 0c.338 0 .613.275.613.613v4.579c0 .338-.275.613-.613.613H.613C.275 13 0 12.725 0 12.387V7.808c0-.338.275-.613.613-.613zm6.582 1.226H8.42v3.353h3.353V8.42zm-7.195 0H1.226v3.353H4.58V8.42zM5.192 0c.338 0 .613.275.613.613v4.579c0 .338-.275.613-.613.613H.613C.275 5.805 0 5.53 0 5.192V.613C0 .275.275 0 .613 0zm7.195 0c.338 0 .613.275.613.613v4.579c0 .338-.275.613-.613.613H7.808c-.338 0-.613-.275-.613-.613V.613c0-.338.275-.613.613-.613zM4.579 1.226H1.226V4.58H4.58V1.226zm7.195 0H8.42V4.58h3.353V1.226z"
                                />
                            </svg>
                        </ng-template>
                    </p-selectButton>
                </div>

                <div class="mb-3 mb-md-4">
                    <p-tabMenu [model]="menuItems"></p-tabMenu>
                </div>
                <div class="mb-4">
                    <router-outlet></router-outlet>
                </div>
            </div>
        </div>
    </div>
</section>

<ng-template #filterTemplate>
    <div class="modal-header mt-3">
        <h2 class="fnt-18 fnt-bold text-clr424">More filters</h2>
        <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
            <img class="close-svg" src="/assets/images/close.svg" alt="" />
        </button>
    </div>
    <div class="modal-body mb-3">
        <div class="border-filter fnt-14 fnt-600 text-clr588 mb-1">Altitude Range</div>
        <div class="row pb-4">
            <div class="col-12 col-sm-12 col-md-8 col-lg-5 d-flex">
                <div class="meter-border">
                    <input type="text" placeholder="" name="" class="col-12 search-div" />
                    <span class="meter-data">m</span>
                </div>
                <div class="fnt-14 fnt-600 text-clr588 p-3">to</div>
                <div class="meter-border">
                    <input type="text" placeholder="" name="" class="col-12 search-div" />
                    <span class="meter-data">m</span>
                </div>
            </div>
        </div>
        <div class="border-filter flavour-profile">Flavour profile (A-Z)</div>
        <div class="w-100% popup-filter pt-4">
            <ul class="clearfix mb-3">
                <li>
                    <label class="customcheckbox flavour-text">
                        <input type="checkbox" class="listCheckbox" name="filter-check" value="" />
                        <span class="checkmark head-check"></span>
                        Juicy
                    </label>
                </li>
                <li>
                    <label class="customcheckbox flavour-text">
                        <input type="checkbox" class="listCheckbox" name="filter-check" value="" />
                        <span class="checkmark head-check"></span>
                        Juicy
                    </label>
                </li>
                <li>
                    <label class="customcheckbox flavour-text">
                        <input type="checkbox" class="listCheckbox" name="filter-check" value="" />
                        <span class="checkmark head-check"></span>
                        Juicy
                    </label>
                </li>
                <li>
                    <label class="customcheckbox flavour-text">
                        <input type="checkbox" class="listCheckbox" name="filter-check" value="" />
                        <span class="checkmark head-check"></span>
                        Juicy
                    </label>
                </li>
                <li>
                    <label class="customcheckbox flavour-text">
                        <input type="checkbox" class="listCheckbox" name="filter-check" value="" />
                        <span class="checkmark head-check"></span>
                        Juicy
                    </label>
                </li>
                <li>
                    <label class="customcheckbox flavour-text">
                        <input type="checkbox" class="listCheckbox" name="filter-check" value="" />
                        <span class="checkmark head-check"></span>
                        Fruity
                    </label>
                </li>
                <li>
                    <label class="customcheckbox flavour-text">
                        <input type="checkbox" class="listCheckbox" name="filter-check" value="" />
                        <span class="checkmark head-check"></span>
                        Fruity
                    </label>
                </li>
                <li>
                    <label class="customcheckbox flavour-text">
                        <input type="checkbox" class="listCheckbox" name="filter-check" value="" />
                        <span class="checkmark head-check"></span>
                        Fruity
                    </label>
                </li>
                <li>
                    <label class="customcheckbox flavour-text">
                        <input type="checkbox" class="listCheckbox" name="filter-check" value="" />
                        <span class="checkmark head-check"></span>
                        Fruity
                    </label>
                </li>
                <li>
                    <label class="customcheckbox flavour-text">
                        <input type="checkbox" class="listCheckbox" name="filter-check" value="" />
                        <span class="checkmark head-check"></span>
                        Fruity
                    </label>
                </li>
                <li>
                    <label class="customcheckbox flavour-text">
                        <input type="checkbox" class="listCheckbox" name="filter-check" value="" />
                        <span class="checkmark head-check"></span>
                        Spicy
                    </label>
                </li>
                <li>
                    <label class="customcheckbox flavour-text">
                        <input type="checkbox" class="listCheckbox" name="filter-check" value="" />
                        <span class="checkmark head-check"></span>
                        Spicy
                    </label>
                </li>
                <li>
                    <label class="customcheckbox flavour-text">
                        <input type="checkbox" class="listCheckbox" name="filter-check" value="" />
                        <span class="checkmark head-check"></span>
                        Spicy
                    </label>
                </li>
                <li>
                    <label class="customcheckbox flavour-text">
                        <input type="checkbox" class="listCheckbox" name="filter-check" value="" />
                        <span class="checkmark head-check"></span>
                        Spicy
                    </label>
                </li>
                <li>
                    <label class="customcheckbox flavour-text">
                        <input type="checkbox" class="listCheckbox" name="filter-check" value="" />
                        <span class="checkmark head-check"></span>
                        Spicy
                    </label>
                </li>
                <li>
                    <label class="customcheckbox flavour-text">
                        <input type="checkbox" class="listCheckbox" name="filter-check" value="" />
                        <span class="checkmark head-check"></span>
                        Jammy
                    </label>
                </li>
                <li>
                    <label class="customcheckbox flavour-text">
                        <input type="checkbox" class="listCheckbox" name="filter-check" value="" />
                        <span class="checkmark head-check"></span>
                        Jammy
                    </label>
                </li>
                <li>
                    <label class="customcheckbox flavour-text">
                        <input type="checkbox" class="listCheckbox" name="filter-check" value="" />
                        <span class="checkmark head-check"></span>
                        Jammy
                    </label>
                </li>
                <li>
                    <label class="customcheckbox flavour-text">
                        <input type="checkbox" class="listCheckbox" name="filter-check" value="" />
                        <span class="checkmark head-check"></span>
                        Jammy
                    </label>
                </li>
                <li>
                    <label class="customcheckbox flavour-text">
                        <input type="checkbox" class="listCheckbox" name="filter-check" value="" />
                        <span class="checkmark head-check"></span>
                        Jammy
                    </label>
                </li>
                <div class="custom-link pb-2">Load More</div>
            </ul>
        </div>
        <div class="listing-status border-filter">Listing status</div>
        <div class="w-100% popup-filter pt-4">
            <ul class="clearfix mb-0">
                <li>
                    <label class="customcheckbox flavour-text">
                        <input type="checkbox" class="listCheckbox" name="filter-check" value="" />
                        <span class="checkmark head-check"></span>
                        At Estate
                    </label>
                </li>
                <li>
                    <label class="customcheckbox flavour-text">
                        <input type="checkbox" class="listCheckbox" name="filter-check" value="" />
                        <span class="checkmark head-check"></span>
                        At mill
                    </label>
                </li>
                <li>
                    <label class="customcheckbox flavour-text">
                        <input type="checkbox" class="listCheckbox" name="filter-check" value="" />
                        <span class="checkmark head-check"></span>
                        Warehouse
                    </label>
                </li>
            </ul>
        </div>
        <div class="certificates border-filter">Certificates</div>
        <div class="w-100% pt-4 pb-3">
            <ul class="mb-0">
                <li>
                    <label class="customcheckbox flavour-text">
                        <input type="checkbox" class="listCheckbox" name="filter-check" value="" />
                        <span class="checkmark head-check"></span>
                        Show listings with certificates
                    </label>
                </li>
            </ul>
        </div>

        <div class="border-filter">
            <button type="submit" class="btn-raised pull-right">Save</button>
        </div>
    </div>
</ng-template>
