<section class="total-section prime-grid">
    <div class="back-page pb-45" (click)="cancel()">
        <a>
            <span>Back</span>
        </a>
    </div>
    <div class="d-flex justify-content-between">
        <span class="request-title-text">Green coffee grading</span>
        <button type="submit" class="green-button btn-stroked skip_btn" (click)="skip()">Skip</button>
    </div>
    <div class="mt-1">
        <app-estate-info
            [cuppingDetails]="cuppingDetails"
            [evaluatorName]="evaluatorName"
            (showDetail)="showDetail.emit()"
        >
        </app-estate-info>
    </div>
    <div class="d-flex flex-wrap mt-3 mt-md-4">
        <div class="col-lg-6 col-12 p-0 pr-lg-2">
            <app-category-view
                [categoryData]="dataObj"
                [categoryList]="category1List"
                [categoryDefects]="category1Defects"
                categoryIndex="1"
                (handleChange)="handleChange($event)"
                (handleDefectsChange)="handleDefectsChange($event)"
                [readonly]="!isEditable"
            >
            </app-category-view>
            <div class="category-wrapper d-none d-lg-block">
                <div class="category__body">
                    <div class="category-inputs d-flex flex-wrap align-items-center">
                        <label class="categ-label col-4">Moisture content</label>
                        <span class="col-8 p-0 p-input-icon-right">
                            <span class="text-clr334 fnt-14 fnt-600 right-icon">%</span>
                            <input
                                type="number"
                                class="category-value"
                                (focus)="$event.target.select()"
                                placeholder="Type a number"
                                [(ngModel)]="moistureContent"
                                [readonly]="!isEditable"
                            />
                        </span>
                    </div>
                    <div class="category-inputs d-flex flex-wrap align-items-center">
                        <label class="categ-label col-4">{{ 'water_activity' | translate }}</label>
                        <span class="col-8 p-0 p-input-icon-right">
                            <span class="text-clr334 fnt-14 fnt-600 right-icon">aw</span>
                            <input
                                type="number"
                                name=""
                                id=""
                                class="category-value"
                                (focus)="$event.target.select()"
                                [(ngModel)]="waterActivity"
                                [readonly]="!isEditable"
                            />
                        </span>
                    </div>
                    <div class="category-inputs d-flex flex-wrap align-items-center">
                        <label class="categ-label col-4">Odor</label>
                        <div class="col-8 p-0">
                            <input
                                type="text"
                                name=""
                                id=""
                                (focus)="$event.target.select()"
                                class="category-value"
                                [(ngModel)]="odor"
                                [readonly]="!isEditable"
                            />
                        </div>
                    </div>
                    <div class="d-flex flex-wrap pt-2 md-pt-4">
                        <label class="categ-label col-12 col-md-4">Color</label>
                        <div class="col-12 col-md-8 px-0 d-flex flex-wrap">
                            <span class="p-field-checkbox pb-3 pr-2 pr-lg-3" *ngFor="let color of colorList">
                                <p-checkbox
                                    name="colors"
                                    [value]="color.value"
                                    [(ngModel)]="totalColors"
                                    inputId="sf"
                                    [readonly]="!isEditable"
                                >
                                </p-checkbox>
                                <label class="fnt-14 fnt-600 mb-0 text-clr334 text-nowrap" for="sf">
                                    {{ color.label }}
                                </label>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-6 col-12 p-0 pl-lg-2">
            <app-category-view
                [categoryData]="dataObj"
                [categoryList]="category2List"
                [categoryDefects]="cat2Defects"
                categoryIndex="2"
                (handleChange)="handleChange($event)"
                (handleDefectsChange)="handleDefectsChange($event)"
                [readonly]="!isEditable"
            >
            </app-category-view>
            <div class="category-inputs align-items-center mt-4 pt-2 d-none d-md-flex flex-wrap">
                <label class="fnt-14 fnt-bold text-clr334 p-0 fnt-16 col-4 col-md-3 col-lg-4"
                    >Total green defects :</label
                >
                <div class="col-8 col-md-9 col-lg-8 p-0">
                    <input
                        type="number"
                        name=""
                        id=""
                        class="category-value"
                        (focus)="$event.target.select()"
                        [(ngModel)]="totalDefects"
                        [readonly]="!isEditable"
                    />
                </div>
            </div>
        </div>
        <div class="category-wrapper d-block d-lg-none mb-3 mt-0 mt-md-3">
            <div class="category__body">
                <div class="category-inputs d-flex flex-wrap align-items-center">
                    <label class="categ-label col-4">Moisture content</label>
                    <span class="col-8 p-0 p-input-icon-right">
                        <span class="text-clr334 fnt-14 fnt-600 right-icon">%</span>
                        <input
                            type="number"
                            class="category-value"
                            (focus)="$event.target.select()"
                            placeholder="Type a number"
                            [(ngModel)]="moistureContent"
                            [readonly]="!isEditable"
                        />
                    </span>
                </div>
                <div class="category-inputs d-flex flex-wrap align-items-center">
                    <label class="categ-label col-4">{{ 'water_activity' | translate }}</label>
                    <span class="col-8 p-0 p-input-icon-right">
                        <span class="text-clr334 fnt-14 fnt-600 right-icon">aw</span>
                        <input
                            type="number"
                            name=""
                            id=""
                            class="category-value"
                            (focus)="$event.target.select()"
                            [(ngModel)]="waterActivity"
                            [readonly]="!isEditable"
                        />
                    </span>
                </div>
                <div class="category-inputs d-flex flex-wrap align-items-center">
                    <label class="categ-label col-4">Odor</label>
                    <div class="col-8 p-0">
                        <input
                            type="text"
                            name=""
                            id=""
                            (focus)="$event.target.select()"
                            class="category-value"
                            [(ngModel)]="odor"
                            [readonly]="!isEditable"
                        />
                    </div>
                </div>
                <div class="d-flex flex-wrap pt-2 md-pt-4">
                    <label class="categ-label col-12 col-md-4">Color</label>
                    <div class="col-12 col-md-8 px-0 d-flex flex-wrap">
                        <span class="p-field-checkbox pb-3 pr-2 pr-lg-3" *ngFor="let color of colorList">
                            <p-checkbox
                                name="colors"
                                [value]="color.value"
                                [(ngModel)]="totalColors"
                                inputId="sf"
                                [readonly]="!isEditable"
                            >
                            </p-checkbox>
                            <label class="fnt-14 fnt-600 mb-0 text-clr334 text-nowrap" for="sf">
                                {{ color.label }}
                            </label>
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-12 p-0 border__grade d-none d-lg-block"></div>
    <div class="d-flex justify-content-between flex-column flex-md-row pt-0 pt-md-4">
        <button type="submit" class="green-button btn-stroked btn order-1 order-md-0" (click)="cancel()">Cancel</button>
        <div class="d-flex flex-column flex-md-row">
            <button
                type="submit"
                [disabled]="!isEditable"
                class="green-button btn-stroked btn mr-2 order-1 order-md-0"
                (click)="clear()"
            >
                Clear
            </button>
            <button type="submit" class="green-button btn-raised btn" (click)="goNext()">Next</button>
        </div>
    </div>
</section>
