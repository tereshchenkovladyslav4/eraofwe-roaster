<div class="total-loader" *ngIf="customerActive != 1">
    <img class="loader-gif-sub" src="/assets/images/loader.gif" />
</div>
<div *ngIf="customerActive == 1">
    <div class="main">
        <nav
            role="navigation"
            aria-labelledby="title-breadcrumb-1"
            class="breadcrumb1 d-flex farm-breadcum justify-content-between"
        >
            <span id="title-breadcrumb-1" class="sr-only"></span>
            <div>
                <ul class="bread-nav">
                    <li class="b-cum">
                        <a class="b-cum" routerLink="/">{{ globals.languageJson?.home }}</a
                        ><span class="padl-r" aria-hidden="true"
                            ><img class="group-img" src="/assets/images/arrow-1.png" alt="" />
                        </span>
                    </li>

                    <li class="b-cum">
                        <a class="b-cum" routerLink="/people/customer-management">{{ globals.languageJson?.people }}</a
                        ><span class="padl-r" aria-hidden="true">
                            <img class="group-img" src="/assets/images/arrow-1.png" alt="" />
                        </span>
                    </li>

                    <li class="b-cum c-pink">{{ globals.languageJson?.customer_management }}</li>
                </ul>
            </div>
            <div class="col-md-6 col-lg-4 px-0 web-farm">
                <span class="custom-search">
                    <input
                        type="text"
                        pInputText
                        class="w-100 {{ searchTerm ? 'highlight' : '' }}"
                        [(ngModel)]="searchTerm"
                        placeholder="{{ globals.languageJson?.search_name_role }}"
                    />
                </span>
            </div>
        </nav>

        <section class="social-media">
            <div class="col-lg-12 col-md-12 col-12 px-0">
                <h6 class="header mb-3">Customer Management</h6>
                <div class="row d-flex justify-content-between mx-0">
                    <div class="web-farm">
                        <div>
                            <p-dropdown
                                id="select-table-customer"
                                [options]="statusList"
                                [(ngModel)]="selectedStatus"
                                scrollHeight="225px"
                                (onChange)="filterStatus()"
                                [showClear]="true"
                                placeholder="Status"
                                styleClass="round-border mr-25 mb-25 mb-md-4"
                            ></p-dropdown>
                        </div>
                        <div>
                            <button type="submit" class="btn-raised" routerLink="/features/onboard-customers">
                                Invite new customer
                            </button>
                        </div>
                    </div>
                </div>
                <div class="mobile-farm">
                    <div>
                        <button type="submit" class="btn-raised w-100" routerLink="/features/onboard-customers">
                            Invite new customer
                        </button>
                    </div>

                    <div class="mx-2 pt-4">
                        <span class="custom-search">
                            <input
                                type="text"
                                pInputText
                                class="w-100 {{ searchTerm ? 'highlight' : '' }}"
                                [(ngModel)]="searchTerm"
                                placeholder="{{ globals.languageJson?.search_name_role }}"
                            />
                        </span>
                    </div>

                    <div class="mx-2 pt-3 pb-2">
                        <p-dropdown
                            id="select-table-customer"
                            [options]="statusList"
                            [(ngModel)]="selectedStatus"
                            scrollHeight="225px"
                            (onChange)="filterStatus()"
                            [showClear]="true"
                            placeholder="Status"
                            styleClass="round-border mr-25 mb-25 mb-md-4"
                        ></p-dropdown>
                    </div>
                </div>

                <div class="col-lg-12 col-md-12 px-0" id="agreements-nav">
                    <p-tabView class="toggle" (onChange)="onTabChange($event)">
                        <p-tabPanel header="{{ globals.languageJson?.micro_roasters }}">
                            <app-customer-management-table
                                *ngIf="customerType === 'micro-roasters'"
                                [searchTerm]="searchTerm"
                                [sortedMainData]="sortedMainData"
                                [customerType]="customerType"
                            >
                            </app-customer-management-table>
                        </p-tabPanel>
                        <p-tabPanel header="{{ globals.languageJson?.horeca }}">
                            <app-customer-management-table
                                *ngIf="customerType === 'hrc'"
                                [searchTerm]="searchTerm"
                                [sortedMainData]="sortedMainData"
                                [customerType]="customerType"
                            >
                            </app-customer-management-table>
                        </p-tabPanel>
                    </p-tabView>
                </div>
            </div>
        </section>
    </div>
</div>
