<div class="fnt-18 fnt-muli text-clr334 font-weight-bold d-block d-md-none mb-3">
    {{ 'qa_forum' | translate }}
</div>

<div class="row gutter-32">
    <div class="col-lg-8">
        <div class="p-3 bg-f8 br-4 d-flex align-items-center">
            <img
                [src]="
                    authService.currentUser?.profile_image_thumb_url
                        ? authService.currentUser?.profile_image_thumb_url
                        : authService.currentUser?.profile_image_url
                        ? authService.currentUser?.profile_image_url
                        : 'assets/images/default-avatar.png'
                "
                alt="avatar"
                class="rounded-circle mr-3"
                width="40"
                height="40"
            />
            <div class="sewn-form-field w-100 mb-0">
                <input
                    routerLink="../../create-post"
                    type="text"
                    pInputText
                    [placeholder]="'ask_your_question' | translate"
                />
            </div>
        </div>
    </div>
    <div class="col-lg-4">
        <div class="custom-search qa-forum-search d-none d-lg-block">
            <input
                class="w-100 fnt-16"
                [(ngModel)]="keyword"
                (ngModelChange)="handleSearch()"
                type="text"
                pInputText
                [placeholder]="'search_qna_forum' | translate"
            />
        </div>
    </div>
</div>

<div class="mt-4 mt-lg-45">
    <div class="row gutter-32">
        <div class="col-lg-8" [ngClass]="{ 'col-lg-8': viewMode === 'list', 'col-12': viewMode === 'grid' }">
            <div class="d-flex justify-content-between align-items-center mb-3">
                <div class="fnt-24 fnt-muli text-clr334 font-weight-bold d-none d-md-block">
                    {{ 'qa_forum' | translate }}
                </div>
                <div class="custom-search qa-forum-search d-block d-lg-none">
                    <input
                        class="w-100 fnt-16"
                        [(ngModel)]="keyword"
                        (ngModelChange)="handleSearch()"
                        type="text"
                        pInputText
                        [placeholder]="'search_qna_forum' | translate"
                    />
                </div>
            </div>
            <div class="d-flex justify-content-between align-items-center mb-4 mb-lg-45">
                <div>
                    <p-dropdown
                        [options]="filterOptions"
                        [(ngModel)]="coffeeLabService.qaForumViewFilterBy"
                        [showClear]="true"
                        (ngModelChange)="getQuestions()"
                        styleClass="round-border text-clr588"
                        [placeholder]="'posted_by' | translate"
                        optionLabel="label"
                        optionValue="value"
                    ></p-dropdown>
                </div>
                <div>
                    <p-dropdown
                        [options]="sortOptions"
                        [(ngModel)]="coffeeLabService.qaForumViewSortBy"
                        (ngModelChange)="getQuestions()"
                        styleClass="no-border no-padding text-clr588"
                        optionLabel="label"
                        optionValue="value"
                    ></p-dropdown>
                </div>
            </div>
            <div *ngIf="!isLoading">
                <app-questions [questions]="questions" [viewMode]="viewMode"></app-questions>
            </div>
            <div *ngIf="isLoading">
                <app-loading></app-loading>
            </div>
            <div *ngIf="!isLoading && !questions.length" class="text-center my-4 fnt-muli text-clr24">
                <app-empty
                    [title]="(keyword ? 'no_data_available' : 'you_have_not_posted_anything_yet') | translate"
                    [description]="(keyword ? '' : 'no_any_posts_to_show_description') | translate"
                ></app-empty>
            </div>
        </div>
    </div>
</div>
