<app-loading *ngIf="isLoading"></app-loading>
<div class="page-wrapper m-0 p-2 p-md-0 bg-f8" *ngIf="!isLoading">
    <article class="col-12 col-lg-12 p-0">
        <div class="p-2 p-md-4 border-main br-4">
            <div class="pb-3 coffee-name">{{ detailsData?.name }}</div>
            <div class="pb-3 pb-md-4 pb-lg-45">
                <div class="w-100 position-relative">
                    <img class="w-100 banner-image" id="imgClick" [src]="detailsData?.cover_image_url" />
                    <span class="copy-btn fnt-14 fnt-muli fnt-bold" (click)="copyImage('imgClick')"
                        ><span><img class="mr-2" src="assets/images/group-18.svg" /></span
                        >{{ 'copy' | translate }}</span
                    >
                </div>
                <div class="mt-3 expertise-level-block">
                    <div class="d-flex w-100">
                        <div class="pr-45 pr-md-3 expert-sm">
                            <div class="m-0 d-flex">
                                <span><img src="/assets/images/beginner-expertise.svg" /></span>
                                <div class="expertise pl-2">{{ 'expertise_level' | translate }}</div>
                            </div>
                            <div class="expertise-level m-0 d-flex">
                                <span style="visibility: hidden"
                                    ><img src="/assets/images/beginner-expertise.svg"
                                /></span>
                                <div class="pl-2">{{ detailsData?.expertise }}</div>
                            </div>
                        </div>
                        <div class="pr-45 preparation-sm">
                            <div class="m-0 d-flex">
                                <span><img src="/assets/images/p-time.svg" /></span>
                                <div class="expertise pl-2">{{ 'preparation_time' | translate }}</div>
                            </div>
                            <div class="expertise-level m-0">
                                <span style="visibility: hidden"
                                    ><img src="/assets/images/beginner-expertise.svg"
                                /></span>
                                <span class="pl-2">{{ detailsData?.preparation_time }}</span>
                            </div>
                        </div>
                    </div>
                    <div class="d-flex w-100">
                        <div class="pr-45 cooking-sm">
                            <div class="m-0 d-flex">
                                <span><img src="/assets/images/cooking-time.svg" /></span>
                                <div class="expertise pl-2">{{ 'cooking _time' | translate }}</div>
                            </div>
                            <div class="expertise-level m-0 d-flex">
                                <span style="visibility: hidden"><img src="/assets/images/cooking-time.svg" /></span>
                                <div class="pl-2">
                                    {{ detailsData?.cooking_time }}
                                    {{ detailsData?.cooking_time_unit }}
                                </div>
                            </div>
                        </div>
                        <div class="d-flex flex-wrap serving-sm">
                            <div class="m-0 d-flex">
                                <span><img src="/assets/images/beginner-expertise.svg" /></span>
                                <div class="expertise pl-2">{{ 'serving' | translate }}</div>
                            </div>
                            <div class="expertise-level m-0 d-flex">
                                <span style="visibility: hidden"
                                    ><img src="/assets/images/beginner-expertise.svg"
                                /></span>
                                <div class="pl-2">{{ detailsData?.serves }}</div>
                            </div>
                        </div>
                    </div>
                </div>
                <p class="fnt-14 fnt-muli pt-3 mb-2" [innerHTML]="detailsData?.description"></p>
            </div>
            <div class="ingredient-block">
                <p class="m-0 fnt-14 fnt-muli fnt-bold text-clr334">{{ 'ingredients' | translate }}</p>
                <div class="ingredient-details bg-white">
                    <div class="m-0" *ngFor="let ing of detailsData?.ingredients; let last = last">
                        <span class="d-flex">
                            <div class="name fnt-14 fnt-muli">{{ ing?.name }}</div>
                            <div class="qty fnt-14 fnt-muli fnt-bold">{{ ing?.quantity }}{{ ing?.quantity_unit }}</div>
                        </span>
                        <div class="saprator" *ngIf="!last"></div>
                    </div>
                </div>
            </div>
            <div class="directions pt-45" *ngIf="detailsData?.steps && detailsData?.steps.length">
                <p class="m-0 fnt-14 fnt-muli fnt-bold text-clr334 pb-2">{{ 'directions' | translate }}</p>
                <div *ngFor="let st of detailsData?.steps; index as i">
                    <p class="m-0 pb-1 fnt-14 fnt-muli fnt-bold">{{ 'step' | translate }} {{ i + 1 }}:</p>
                    <p class="m-0 pb-2 fnt-14 fnt-muli" [innerHTML]="st?.description"></p>
                    <div class="w-100 position-relative mb-3" appCopyImageToClipboard *ngIf="st.image_url">
                        <img [src]="st.image_url" class="w-100" id="stepImg" />
                        <span
                            class="copy-btn fnt-14 fnt-muli fnt-bold"
                            (click)="copyImage('stepImg')"
                            *ngIf="st?.image_url"
                            ><span><img class="mr-2" src="assets/images/group-18.svg" /></span
                            >{{ 'copy' | translate }}</span
                        >
                    </div>
                </div>
            </div>
        </div>
    </article>
</div>
