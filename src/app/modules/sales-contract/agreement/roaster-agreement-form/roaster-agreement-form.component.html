<div class="custom-padding">
    <div class="d-flex flex-column">
        <div class="w-100 pb-3 mobile-farm">
            <a class="back-page" (click)="closeModal.emit()" routerLink="/sales-contract"> {{ 'back' | translate }}</a>
        </div>
        <h4 class="fnt-18 fw-b text-clr334 mt-3 mb-3 mobile-farm">
            {{ 'upload_new_agreement' | translate }}
        </h4>
    </div>
    <form [formGroup]="horecaFormGroup" class="overflow-hidden">
        <div class="invite-to">
            <div class="pb-2 mt-md-4 pt-md-3 sewn-form-field">
                <label class="fnt-16 fw-b text-clr02 mb-0">
                    {{ 'customer_type_upload_agreement' | translate }}
                </label>

                <div class="row mt-3 pl-3">
                    <p-radioButton
                        [value]="'hrc'"
                        label="Partner"
                        formControlName="customerType"
                        (onClick)="onRadioChange()"
                        class="mr-4"
                    ></p-radioButton>
                    <p-radioButton
                        [value]="'mr'"
                        label="Micro-roaster"
                        formControlName="customerType"
                        (onClick)="onRadioChange()"
                    ></p-radioButton>
                </div>
            </div>

            <div class="pb-md-2 sewn-form-field w-50 btn-width">
                <label> {{ 'select_customer' | translate }}<span class="star">*</span> </label>
                <p-dropdown
                    class="upload-dropdown"
                    [options]="modalDropdownList"
                    formControlName="customerId"
                    [style]="{ width: '100%' }"
                    placeholder="Select customer"
                >
                </p-dropdown>
                <small class="p-error mt-md-2" *ngIf="horecaFormGroup.controls.customerId.errors?.required">
                    {{ 'please_select_customer' | translate }}
                </small>
            </div>
            <div class="mb-0">
                <div class="col-12 px-0">
                    <h4 class="fnt-16 fw-b text-clr334 mb-0">
                        {{ 'upload' | translate }}
                    </h4>
                    <span class="d-block fnt-14 fw-m text-clr334 text-clr588 mb-1">
                        {{ 'please_upload_document' | translate }}</span
                    >
                    <div class="d-flex foot-section mb-2 mb-md-4 mt-2 mt-md-3 pb-md-1">
                        <div class="w-50">
                            <app-sales-uploader
                                formControlName="file_id"
                                [fileDetails]="fileDetails"
                            ></app-sales-uploader>
                            <small *ngIf="horecaFormGroup.controls.file_id.errors?.required" class="p-error">
                                Please upload
                            </small>
                        </div>
                        <div class="align-btn">
                            <div *ngIf="!isUpdate">
                                <button
                                    type="button"
                                    class="btn-raised loading btn-width"
                                    [class.loading]="uploadButtonValue == 'Uploading'"
                                    [disabled]="uploadButtonValue == 'Uploading'"
                                    (click)="uploadAgreement()"
                                >
                                    <span>{{ uploadButtonValue }}</span>
                                </button>
                            </div>
                            <div *ngIf="isUpdate">
                                <button
                                    type="button"
                                    class="btn-raised btn-width"
                                    [class.loading]="updateButtonValue == 'Updating'"
                                    [disabled]="updateButtonValue == 'Updating'"
                                    (click)="updateAgreements()"
                                >
                                    <span>{{ updateButtonValue }}</span>
                                </button>
                            </div>
                            <div class="mobile-farm mt-3">
                                <button
                                    type="button"
                                    (click)="closeModal.emit()"
                                    [routerLink]="['/sales-contract']"
                                    class="btn-stroked btn-width"
                                >
                                    {{ 'cancel' | translate }}
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>
