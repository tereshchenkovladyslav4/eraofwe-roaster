<section>
    <div class="main-block">
        <app-brand-profile-header pageSlug="visit-us" (saveClick)="savePageData()"></app-brand-profile-header>

        <form [formGroup]="infoForm" novalidate>
            <div class="row">
                <div class="col-lg-8">
                    <div class="br-main br-2 p-3 p-md-4">
                        <h4 class="fnt-16 lh-normal fnt-700 text-clr334 mb-3">Banner<span class="star">*</span></h4>
                        <p class="fnt-14 lh-normal fnt-600 text-clr334 mb-2">
                            Image/Video banner<span class="star">*</span>
                        </p>
                        <p class="fnt-mb-14 lh-normal fnt-600 fnt-muli text-clr588 mb-2">
                            Upload a banner cover about your roaster
                        </p>
                        <p class="fnt-mb-14 lh-normal fnt-600 text-clr588 mb-3 mb-md-4">Size - 1440 x 465 px</p>

                        <div class="w-100 sewn-form-field mb-4 mb-md-45">
                            <app-uploader formControlName="banner_file"></app-uploader>
                            <small *ngIf="infoForm.controls.banner_file.errors?.required" class="p-error">
                                Please upload
                            </small>
                        </div>

                        <div class="w-100 sewn-form-field mb-0">
                            <label>
                                Banner Title<span class="star">*</span>
                                <span class="pull-right text-clr588">
                                    {{ infoForm.get('banner_title').value | wordCount }}/15 words
                                </span>
                            </label>
                            <input type="text" formControlName="banner_title" pInputText />
                            <small *ngIf="infoForm.controls.banner_title.errors?.required" class="p-error">
                                Required
                            </small>
                            <small *ngIf="infoForm.controls.banner_title.errors?.maxWordCount" class="p-error">
                                Please input 15 words
                            </small>
                        </div>
                    </div>

                    <div class="br-main br-2 mt-4 mt-md-45 p-3 p-md-4">
                        <h4 class="fnt-18 lh-normal fnt-700 text-clr334">Contact Info</h4>
                        <p class="fnt-14 fnt-600 text-clr334 mb-4 mb-md-45">Your details to get in touch!</p>

                        <h4 class="fnt-18 fnt-700 text-clr334 mb-4">Address<span class="star">*</span></h4>

                        <div class="row">
                            <div class="col-12 col-md-6 sewn-form-field">
                                <label>Country<span class="star">*</span></label>
                                <p-dropdown
                                    [options]="globals.countryList"
                                    optionLabel="name"
                                    optionValue="isoCode"
                                    formControlName="country"
                                    (onChange)="changeCountry()"
                                    placeholder="{{ globals.languageJson?.select_country }}"
                                ></p-dropdown>
                                <small *ngIf="infoForm.controls.country.errors?.required" class="p-error">
                                    Please select your country
                                </small>
                            </div>
                            <div class="col-12 col-md-6 sewn-form-field">
                                <label>State</label>
                                <p-dropdown
                                    [options]="cities"
                                    formControlName="state"
                                    placeholder="{{ globals.languageJson?.select_state }}"
                                ></p-dropdown>
                            </div>
                            <div class="col-12 col-md-6 sewn-form-field">
                                <label>{{ globals.languageJson?.address }}<span class="star">*</span></label>
                                <input
                                    type="text"
                                    placeholder="Please enter your e-mail address"
                                    formControlName="address1"
                                    pInputText
                                    placeholder="Line 1"
                                />
                                <small *ngIf="infoForm.controls.address1.errors?.required" class="p-error">
                                    Please enter address
                                </small>
                            </div>
                            <div class="col-12 col-md-6 sewn-form-field">
                                <label>{{ globals.languageJson?.address }}</label>
                                <input type="text" placeholder="Line 2" formControlName="address2" pInputText />
                            </div>
                            <div class="col-6 col-md-3 sewn-form-field">
                                <label>City<span class="star">*</span></label>
                                <input
                                    type="text"
                                    placeholder="{{ globals.languageJson?.enter_city }}"
                                    formControlName="city"
                                    pInputText
                                />
                                <small *ngIf="infoForm.controls.city.errors?.required" class="p-error">
                                    Please enter city
                                </small>
                            </div>
                            <div class="col-6 col-md-3 sewn-form-field">
                                <label>{{ globals.languageJson?.zipcode }}<span class="star">*</span></label>
                                <input
                                    type="text"
                                    placeholder="{{ globals.languageJson?.zipcode }}"
                                    formControlName="zip_code"
                                    pInputText
                                />
                                <small *ngIf="infoForm.controls.zip_code.errors?.required" class="p-error">
                                    Please enter zipcode
                                </small>
                            </div>
                        </div>

                        <div class="divider mb-4"></div>
                        <h4 class="fnt-18 lh-normal fnt-700 text-clr334 mb-4">
                            Contact details<span class="star">*</span>
                        </h4>

                        <div class="row">
                            <div class="col-12 col-md-6 sewn-form-field">
                                <label>Email Address<span class="star">*</span></label>
                                <input
                                    type="text"
                                    placeholder="Roastery email"
                                    formControlName="email"
                                    pInputText
                                    placeholder="Line 1"
                                />
                                <small *ngIf="infoForm.controls.email.errors?.required" class="p-error">
                                    Please enter email
                                </small>
                                <small *ngIf="infoForm.controls.email.errors?.email" class="p-error">
                                    Please enter valid email
                                </small>
                            </div>
                            <div class="col-12 col-md-6 sewn-form-field">
                                <label
                                    >Phone Number<span class="star">*</span>
                                    <span class="flag-icon flag-icon-gr"></span>
                                </label>
                                <ngx-intl-tel-input
                                    [cssClass]="'custom-intl-tel-input'"
                                    [preferredCountries]="preferredCountries"
                                    [enableAutoCountrySelect]="true"
                                    [enablePlaceholder]="true"
                                    [searchCountryFlag]="true"
                                    [searchCountryField]="[SearchCountryField.Iso2, SearchCountryField.Name]"
                                    [selectFirstCountry]="false"
                                    [maxLength]="'15'"
                                    [tooltipField]="TooltipLabel.Name"
                                    [separateDialCode]="true"
                                    [numberFormat]="PhoneNumberFormat.National"
                                    formControlName="phone"
                                    class="w-100"
                                    required
                                >
                                </ngx-intl-tel-input>
                                <small *ngIf="infoForm.controls.phone.errors?.required" class="p-error">
                                    Please enter phone number
                                </small>
                            </div>
                        </div>

                        <div class="divider mb-4"></div>
                        <h4 class="fnt-18 fnt-700 text-clr334 mb-4">Store timings<span class="star">*</span></h4>
                    </div>
                </div>
            </div>
        </form>

        <app-brand-profile-footer pageSlug="visit-us" (saveClick)="savePageData()"></app-brand-profile-footer>
    </div>
</section>

<section>
    <div class="bg-fff mb-4">
        <section class="col-sm-12 col-md-12 col-lg-12 brand-profile-sec px-0">
            <div class="row px-3 pt-4">
                <div class="col-lg-8 col-md-12 col-sm-12 p-4 border mt-3">
                    <h4 class="fnt-18 fnt-700 fnt-muli text-clr334">FAQs</h4>
                    <p class="fnt-14 fnt-600 fnt-muli text-clr334">Help your users solves questions faster</p>

                    <div *ngFor="let questiondata of questionArray; let i = index">
                        <div class="roastery-fields">
                            <div class="farm-input col-12 col-md-10 px-0">
                                <label class="label"></label>
                                <select
                                    name="Year"
                                    required=""
                                    class="form-control select-region"
                                    [(ngModel)]="questiondata.type"
                                    id="question_type"
                                >
                                    <option value="" selected="" disabled="">Do you offer a trial purchase?</option>
                                    <option value="Bow">Bow</option>
                                    <option value="Lucile French">Lucile French</option>
                                    <option value="Rena Gonzales">Rena Gonzales</option>
                                </select>
                            </div>
                            <div class="questionTypeError" *ngIf="questionTypeError != ''">{{ questionTypeError }}</div>
                        </div>

                        <div class="roastery-fields">
                            <div class="farm-input col-12 col-md-12 px-0">
                                <label class="w-100 fnt-14 fnt-600 fnt-muli text-clr334 mt-3"
                                    >Question<span class="star">*</span>
                                    <span class="sub-text fnt-muli pull-right"
                                        >{{ globals.countTheString(questiondata.question, 15) }}/15 words</span
                                    ></label
                                >
                                <input
                                    type="text"
                                    class="form-control banner-title"
                                    placeholder="Please enter the name of your employee"
                                    name="title"
                                    id="question"
                                    [(ngModel)]="questiondata.question"
                                    maxlength="{{ globals.getTheMaxLength(questiondata.question, 15) }}"
                                />
                            </div>
                            <div class="questionError" *ngIf="questionError != ''">
                                {{ questionError }}
                            </div>
                        </div>

                        <div class="roastery-fields">
                            <div class="farm-input col-12 col-md-12 px-0">
                                <label class="w-100 fnt-14 fnt-600 fnt-muli text-clr334 mt-3"
                                    >Answer<span class="star">*</span>
                                    <span class="sub-text fnt-muli pull-right"
                                        >{{ globals.countTheString(questiondata.answer, 100) }}/100 words</span
                                    ></label
                                >
                                <textarea
                                    id="question_answer"
                                    class="form-control"
                                    rows="5"
                                    cols="50"
                                    [(ngModel)]="questiondata.answer"
                                    maxlength="{{ globals.getTheMaxLength(questiondata.answer, 100) }}"
                                >
                                </textarea>
                            </div>
                        </div>
                        <div class="questionAnswerError" *ngIf="questionAnswerError != ''">
                            {{ questionAnswerError }}
                        </div>
                        <div class="mt-3">
                            <button type="button" class="save" (click)="saveQuestion(questiondata.id, $event)">
                                Add
                            </button>
                        </div>
                    </div>

                    <hr class="dashed my-4" />

                    <div class="add-partner d-inline-flex align-items-center">
                        <img src="assets/images/add-partner.svg" />
                        <span class="ml-2 fnt-muli fnt-700 fnt-14 text-clr60b cursor-pointer" (click)="addnewrow()">
                            Add new question
                        </span>
                    </div>
                </div>

                <!-- accordion ui -->

                <div class="col-lg-8 col-md-12 col-sm-12 p-4 border mt-3">
                    <h4 class="fnt-18 fnt-700 fnt-muli text-clr334">FAQs</h4>
                    <p class="fnt-14 fnt-600 fnt-muli text-clr334">Help your users solves questions faster</p>

                    <div class="visit-us-accordion-content position-relative col-md-10 col-12">
                        <div class="row">
                            <div class="accordion col-12 mb-3" id="accordionExample">
                                <div class="card" *ngFor="let saveddata of savedFaqArray; let i = index">
                                    <div class="card-head" [id]="'heading' + i">
                                        <h2
                                            class="mb-0 question float-left w-80"
                                            data-toggle="collapse"
                                            [attr.data-target]="'#collapse' + i"
                                            aria-expanded="true"
                                            [attr.aria-controls]="'collapse' + i"
                                        >
                                            {{ saveddata.question }}
                                        </h2>
                                        <div class="d-flex float-right">
                                            <span (click)="editFAQ(saveddata)">Edit</span> &nbsp;
                                            <span (click)="deleteFAQ(saveddata)">Delete</span>
                                        </div>
                                        <!-- <span>Edit</span> &nbsp; <span>Delete</span> -->
                                    </div>

                                    <div
                                        [id]="'collapse' + i"
                                        class="collapse sourcing-collapse show"
                                        [attr.aria-labelledby]="'heading' + i"
                                        data-parent="#accordionExample"
                                    >
                                        <div class="card-body">
                                            <div class="roastery-fields">
                                                <div class="farm-input col-12 px-0">
                                                    <label class="label"></label> {{ saveddata.answer }}
                                                    <!-- <input type="text" class="form-control banner-title" placeholder="Please enter the name of your employee" name="title" id="title"> -->
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="card">
                                    <div class="card-head" id="headingTwo">
                                        <h2
                                            class="mb-0 collapsed question"
                                            data-toggle="collapse"
                                            data-target="#collapseTwo"
                                            aria-expanded="false"
                                            aria-controls="collapseTwo"
                                        >
                                            How much will the shipping and haulage cost?
                                        </h2>
                                    </div>

                                    <div
                                        id="collapseTwo"
                                        class="collapse sourcing-collapse"
                                        aria-labelledby="headingTwo"
                                        data-parent="#accordionExample"
                                    >
                                        <div class="card-body">
                                            <div class="roastery-fields">
                                                <div class="farm-input col-12 px-0">
                                                    <label class="label"></label>
                                                    <input
                                                        type="text"
                                                        class="form-control banner-title"
                                                        placeholder="Please enter the name of your employee"
                                                        name="title"
                                                        id="title"
                                                    />
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <hr class="dashed my-4" />

                        <div class="add-partner d-inline-flex align-items-center">
                            <img src="assets/images/add-partner.svg" />
                            <span class="ml-2 fnt-muli fnt-700 fnt-14 text-clr60b cursor-pointer">
                                Add new question
                            </span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pb-5 pt-4">
                <button class="cancel pull-left mr-auto fnt-muli" type="button" routerLink="/features/brand-profile">
                    Cancel
                </button>
            </div>
        </section>
    </div>
</section>
