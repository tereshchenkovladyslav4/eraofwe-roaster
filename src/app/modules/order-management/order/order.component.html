<app-order-header [orderId]="orderId" [organizationType]="organizationType" [orderType]="orderDetails?.orderType || orderDetails?.type"
    [statusPaid]="orderDetails?.statusPaid" [createdAt]="orderDetails?.createdAt"
    [invoiceUrl]="orderDetails?.invoiceUrl" [orderStatus]="orderDetails?.status"></app-order-header>

<div class="row mt-3">
    <div class="col-12">
        <div class="bg-white d-lg-flex br-4 px-2 p-md-3 px-lg-5 py-lg-45">
            <div class="mixups-tabs col mb-md-3 mb-lg-0 px-0 pr-lg-2 mixups-tabs--pd0">
                <app-order-details [orderId]="orderId" [orgType]="organizationType" [order]="orderDetails" [needConfirmation]="needConfirmation">
                </app-order-details>
            </div>

            <div class="col-lg col-md-12 px-0 px-md-0 pb-2 pl-lg-2 pr-lg-0 mixups-tabs--pd0 address-col">
                <app-confirm-order *ngIf="needConfirmation" [orderId]="orderId"
                    [orgType]="organizationType"></app-confirm-order>
                <app-order-contacts *ngIf="!needConfirmation" [order]="orderDetails"
                    [roaster]="roaster$ | async"></app-order-contacts>
            </div>
        </div>
    </div>
</div>

<div class="row mt-4">
    <div class="col-12">
        <div class="bg-white br-4 px-md-3 py-md-4 pl-lg-5 pr-lg-5" *ngIf="!needConfirmation">
            <div class="col border-ebebeb p-2 p-md-0 recent-activity-col">
                <app-recent-acitivity [orderId]="orderId"></app-recent-acitivity>
            </div>
        </div>
    </div>
</div>

<div class="d-none d-md-block w-100 chat-div">
    <button type="button" class="btn col-md-4 pull-right ml-auto chat-btn stricky-order"
        routerLink="/ordermanagement/order-chat" [queryParams]="{ id: orderId }">
        Order #{{ orderId }} chat <span class="chat-indicator"> &#x25CF;</span><img class="pull-right ml-auto"
            src="assets/images/back-arrow.png" />
    </button>
</div>