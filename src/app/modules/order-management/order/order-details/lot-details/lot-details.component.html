<div class="d-flex flex-column fnt-14 lh-18 lot-detail-block">
    <ng-container *ngIf="orgType === OrgType.MICRO_ROASTER; else estate_order">
        <div class="d-flex flex-column flex-md-row">
            <div class="d-flex flex-row flex-md-column w-100">
                <span class="fnt-500 text-muted">{{ 'product_name' | translate }}</span>
                <span class="mt-md-3 fnt-600 text-clr334">{{ lot?.product_name }}</span>
            </div>
            <div class="d-flex flex-row flex-md-column w-100">
                <span class="fnt-500 text-muted">{{ 'lot_id' | translate }}</span>
                <span class="mt-md-3 fnt-600 text-clr334">{{ avilablity?.lot_number }}</span>
                <div
                    class="navigation-link mt-2"
                    *ngIf="lot"
                    [routerLink]="['/sourcing/lot-details/', lot?.estate_id, lot?.lot_id]"
                >
                    {{ 'view_lot_details' | translate }}
                </div>
            </div>
            <div class="d-flex flex-row flex-md-column w-100">
                <span class="fnt-500 text-muted">{{ 'variety' | translate }}</span>
                <span class="mt-md-3 fnt-600 text-clr334">{{ lot?.varieties }}</span>
            </div>
            <div class="d-flex flex-row flex-md-column w-100">
                <span class="fnt-500 text-muted">{{ 'bulk_ordered' | translate }}</span>
                <span class="mt-md-3 fnt-600 text-clr334">{{
                    lot?.type === OrderType.Sample ? ('sample' | translate) : quantity || '-'
                }}</span>
            </div>
            <div class="d-flex flex-row flex-md-column w-100">
                <span class="fnt-500 text-muted">{{ 'rate_per' | translate }} kg</span>
                <span class="mt-md-3 fnt-600 text-clr334">{{ lot?.unit_price }} {{ lot?.total_price_unit }}</span>
            </div>
        </div>
    </ng-container>
    <ng-template #estate_order>
        <div class="lot-detail-wrapper d-flex flex-column flex-md-row">
            <div class="d-flex flex-row flex-md-column lot-detail-width-adjust">
                <span class="fnt-500 text-muted">{{ 'origin' | translate }}</span>
                <span class="mt-md-3 fnt-600 text-clr334">{{ lot?.origin | country }}</span>
            </div>
            <div class="d-flex flex-row flex-md-column lot-detail-width-adjust">
                <span class="fnt-500 text-muted">{{ 'variety' | translate }}</span>
                <span class="mt-md-3 fnt-600 text-clr334">{{ lot?.varieties }}</span>
            </div>
            <div class="d-flex flex-row flex-md-column lot-detail-width-adjust">
                <span class="fnt-500 text-muted">{{ 'quantity' | translate }}</span>
                <span class="mt-md-3 fnt-600 text-clr334">
                    <span *ngIf="lot?.order_type === OrderType.Sample">{{ 'sample' | translate }}</span>
                    <span *ngIf="lot?.order_type !== OrderType.Sample"
                        >{{ lot?.quantity_count }}&nbsp;{{ lot?.quantity_type | quantityType }} x {{ lot?.quantity
                        }}{{ lot?.quantity_unit }}</span
                    >
                    <div
                        *ngIf="lot"
                        class="navigation-link mt-2"
                        [routerLink]="['/sourcing/coffee-details', lot.harvest_id]"
                    >
                        {{ 'view_availability_details' | translate }}
                    </div>
                </span>
            </div>
            <div class="d-flex flex-row flex-md-column lot-detail-width-adjust">
                <span class="fnt-500 text-muted">{{ 'rate_per' | translate }} kg</span>
                <span class="mt-md-3 fnt-600 text-clr334" *ngIf="lot?.order_type !== OrderType.Sample"
                    >{{ lot?.quantity ? (lot?.price / (lot?.quantity * lot?.quantity_count) | currency: 'USD') : '-' }}
                </span>
                <span class="mt-md-3 fnt-600 text-clr334" *ngIf="lot?.order_type === OrderType.Sample">{{
                    avilablity?.price ? (avilablity?.price | currency: 'USD') : '-'
                }}</span>
            </div>
        </div>
        <div class="lot-detail-wrapper d-flex flex-column flex-md-row">
            <div class="d-flex flex-row flex-md-column lot-detail-width-adjust" *ngIf="lot?.shipping_price">
                <span class="fnt-500 text-muted">{{ 'import_fee' | translate }}</span>
                <span class="mt-md-3 fnt-600 text-clr334">{{ lot?.shipping_price | currency: 'USD' }}</span>
            </div>
            <div class="d-flex flex-row flex-md-column lot-detail-width-adjust">
                <span class="fnt-500 text-muted">{{ 'total' | translate }}</span>
                <span class="mt-md-3 fnt-600 text-clr334">{{
                    lot?.price + lot?.shipping_price | currency: 'USD'
                }}</span>
            </div>
        </div>
    </ng-template>
</div>
