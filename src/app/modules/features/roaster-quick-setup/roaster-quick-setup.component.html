<section>
    <div class="main-block">
        <div class="row align-items-center">
            <div class="mb-4 pl-3">
                <p-breadcrumb [model]="navItems" [home]="selectedNav"></p-breadcrumb>
            </div>
        </div>
        <section class="team__total d-md-block">
            <div class="row">
                <div class="col-12">
                    <div class="add-team">
                        Invite
                        {{
                            headerValue === 'Micro-Roaster' ? 'Micro-Roaster' : ('roasted_coffee_customers' | translate)
                        }}
                    </div>
                    <div class="fnt-14 fnt-normal mb-4 pt-2 pt-lg-0 text-clr588">
                        Invite your customers to the platform for setup
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12 mt-0 mt-lg-4 source-cont">
                    <form class="form-container">
                        <div class="row" *ngFor="let invite of inviteFormArray.controls; let i = index">
                            <div class="mobile-farm col-12">
                                <div class="row">
                                    <div class="col-6">
                                        <div class="add-team pb-3 mobile-farm">Invite {{ i + 1 }}</div>
                                    </div>
                                    <div class="col-6">
                                        <div *ngIf="i != 0" (click)="removeRow(i)" class="float-right">
                                            <div class="mt-2 delete-link">Delete</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="sewn-form-field pr-3 mt-md-1 col-md-4 pr-3">
                                <label>{{ globals.languageJson?.name }}<span class="star">*</span></label>
                                <input
                                    pInputText
                                    class="w-100 border-rounded-left-md-0"
                                    placeholder="Enter your Full Name"
                                    [formControl]="invite.controls.name"
                                    type="text"
                                />
                                <small
                                    class="p-error"
                                    *ngIf="invite.controls.name.invalid && invite.controls.name.touched"
                                >
                                    <span *ngIf="invite.controls.name.errors?.required"
                                        >Please enter the full name</span
                                    >
                                </small>
                            </div>
                            <div class="sewn-form-field pl-lg-2 pr-3 pl-md-0 mt-md-1 col-md-4">
                                <label
                                    >{{ globals.languageJson?.enter_yoru_work_email }}<span class="star">*</span></label
                                >
                                <input
                                    pInputText
                                    class="w-100 border-rounded-left-md-0"
                                    type="email"
                                    placeholder="you@example.com"
                                    [formControl]="invite.controls.email"
                                />
                                <small
                                    class="p-error"
                                    *ngIf="invite.controls.email.invalid && invite.controls.email.touched"
                                >
                                    <span *ngIf="invite.controls.email.errors?.required">Please enter the email</span>
                                </small>
                            </div>
                            <div
                                class="sewn-form-field pl-lg-2 pr-3 pl-md-0 col-md-3 mt-md-1"
                                *ngIf="headerValue == 'HoReCa'"
                            >
                                <label
                                    >{{ globals.languageJson?.enter_yoru_work_type }}<span class="star">*</span>
                                </label>
                                <p-dropdown
                                    [options]="companyTypeList"
                                    [formControl]="invite.controls.type"
                                    [style]="{ width: '100%' }"
                                    placeholder="Company Type"
                                >
                                </p-dropdown>
                                <small
                                    class="p-error"
                                    *ngIf="invite.controls.type.invalid && invite.controls.type.touched"
                                >
                                    <span *ngIf="invite.controls.type.errors?.required">Please select a work tye</span>
                                </small>
                            </div>

                            <div *ngIf="i != 0" (click)="removeRow(i)" class="web-farm">
                                <div class="delete-link mt-5 pt-3">Delete</div>
                            </div>
                            <div
                                *ngIf="inviteFormArray.length > 1"
                                class="brd-d6d6 mobile-farm mt-2 mb-3 mx-auto"
                            ></div>
                        </div>
                        <div class="add-partner align-items-center">
                            <span class="fnt-14 fnt-700 fnt-muli ml-1" (click)="addNewRow()">+ Add another email</span>
                        </div>
                        <div class="row">
                            <div class="align-mob-btn col-12 mb-2 mb-md-4">
                                <button
                                    type="submit"
                                    class="btn-stroked mb-lg-5 mt-3 mt-lg-5"
                                    routerLink="/features/onboard-customers"
                                >
                                    Cancel
                                </button>
                                <button
                                    type="submit"
                                    class="btn-raised ml-lg-3 mt-lg-0 pt-lg-2 ml-md-3 mt-4 pt-2"
                                    (click)="sendInvite()"
                                    [disabled]="inviteFormArray.invalid || sendInviteButton === 'Sending'"
                                >
                                    {{ sendInviteButton
                                    }}<img
                                        class="loader"
                                        *ngIf="sendInviteButton === 'Sending'"
                                        src="assets/images/orange-loader.gif"
                                    />
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </section>
    </div>
</section>
