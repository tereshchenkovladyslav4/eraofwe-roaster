<section>
    <div class="bg-fff">
        <nav role="navigation" aria-labelledby="title-breadcrumb-1" class="breadcrumb1 pt-4">
            <span id="title-breadcrumb-1" class="sr-only"></span>
            <ul class="bread-nav">
                <li class="b-cum">
                    <a class="b-cum" routerLink="/features/welcome-aboard">{{ globals.languageJson?.home }}</a
                    ><span class="padl-r" aria-hidden="true"
                        ><img class="group-img" src="/assets/images/arrow-1.png" alt="" />
                    </span>
                </li>
                <li class="b-cum">
                    <a class="b-cum" routerLink="/features/roasted-coffee-batch">{{
                        globals.languageJson?.roasted_coffee
                    }}</a
                    ><span class="padl-r" aria-hidden="true">
                        <img class="group-img" src="/assets/images/arrow-1.png" alt="" />
                    </span>
                </li>

                <li class="b-cum c-pink">{{ globals.languageJson?.new_roasted_batch }}</li>
                <button
                    type="submit"
                    class="btn col-12 col-md-1 pull-right add-role-butn d-md-block d-none"
                    (click)="addRoastedCoffeeBatch()"
                >
                    {{ globals.languageJson?.save }}
                </button>
            </ul>
        </nav>

        <section class="new-roasted-batch">
            <div class="row">
                <div class="col-md-8 col-12">
                    <p class="fnt-18 fnt-muli fnt-700 black">{{ globals.languageJson?.create_roasted_batch }}</p>

                    <div class="row pt-3">
                        <div class="col-12 col-md-6 float-md-left">
                            <div class="farm-input">
                                <label class="label p-0">Roast batch name*</label>
                                <input
                                    type="text"
                                    placeholder=""
                                    [(ngModel)]="roast_batch_name"
                                    [ngModelOptions]="{ standalone: true }"
                                />
                            </div>
                        </div>
                    </div>

                    <p class="fnt-18 fnt-muli fnt-700 black pt-2 pt-md-4">{{ globals.languageJson?.order_id }}*</p>

                    <div class="row pt-3 pb-3">
                        <!-- <div class="col-12 col-md-6 float-md-left">
                                <div class="farm-input ">
                                    <label class="label p-0">Select the order through which the green coffee</label>
                                    <select name="Year" required="" class="form-control select-region">
                                    <option  value="" selected="" disabled="" > Select the order</option>
                                    <option  value="2017"> 2017 </option>
                                    <option  value="2018"> 2018 </option>
                                    <option  value="2019"> 2019 </option>
                                    <option  value="2020"> 2020 </option>
                                </select>
                                </div>

                            </div> -->

                        <div class="col-12 col-md-6 float-md-left">
                            <p class="fbt-14 fnt-muli fnt-400 text-clr334">
                                Select the order through which the green coffee
                            </p>
                            <div class="sample_info">
                                <div
                                    class="info_heading d-flex cursor-pointer"
                                    routerLink="/features/select-order-list"
                                >
                                    <div class="pull-left sample_info_head">Select the order</div>
                                    <div class="ml-auto pull-right">
                                        <img class="pl-1" src="assets/images/arrow-1.png" alt="" />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row pt-5 pb-3">
                        <div class="col-12 col-md-6 float-md-left">
                            <div class="farm-input">
                                <label class="label p-0">Select roasting profile*</label>
                                <div class="cupping-total" id="cupping_id">
                                    <p class="d-inline filter-text" *ngIf="cupping == ''">
                                        Select type of cupping&nbsp;
                                    </p>
                                    <a
                                        class="pointer-item arrow__spacing"
                                        [popover]="cuppingTemplate"
                                        placement="bottom"
                                        container="body"
                                        #pop6="bs-popover"
                                    >
                                        <p class="d-inline filter" *ngIf="cupping == ''" (click)="toggleCupping()">
                                            &nbsp;
                                            <img
                                                class=""
                                                src="{{
                                                    showCupping
                                                        ? 'assets/images/down-arrow.svg'
                                                        : 'assets/images/arrow-cupping.svg'
                                                }}"
                                            />
                                        </p>
                                    </a>
                                    <p class="d-inline add-variety" *ngIf="cupping != ''">{{ cupping }}</p>
                                    <a
                                        class="pointer-item arrow__spacing"
                                        [popover]="cuppingTemplate"
                                        placement="bottom"
                                        container="body"
                                        #pop7="bs-popover"
                                    >
                                        <p class="d-inline filter" *ngIf="cupping != ''" (click)="toggleCupping()">
                                            &nbsp;<img
                                                class=""
                                                src="{{
                                                    showCupping
                                                        ? 'assets/images/down-arrow.svg'
                                                        : 'assets/images/arrow-cupping.svg'
                                                }}"
                                            />
                                        </p>
                                    </a>
                                </div>
                            </div>
                        </div>

                        <!-- <div class="col-12 col-md-6 float-md-left">
                                <div class="farm-input ">
                                    <label class="label p-0">Quantity after roasted*</label>
                                    <select name="Year" required="" class="form-control select-region">
                                    <option  value="" selected="" disabled="" > Select the Quantity</option>
                                    <option  value="Kg"> Kg </option>
                                    <option  value="gram"> gram </option>
                                </select>
                                </div>

                            </div> -->
                        <div class="col-12 col-md-6 float-md-left">
                            <div class="farm-input">
                                <label class="label p-0">Quantity after roasted*</label>
                                <div class="input-group">
                                    <input
                                        type="text"
                                        placeholder="Enter quantity"
                                        class="form-control input-group-right-border"
                                        aria-label="Text input with dropdown button"
                                        [(ngModel)]="quantity"
                                        [ngModelOptions]="{ standalone: true }"
                                    />
                                    <div class="input-group-append">
                                        <!-- <button class="btn btn-outline-secondary dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Dropdown</button> -->
                                        <select
                                            name="type"
                                            required=""
                                            class="form-control select-region select-form-group-dropdown select-region-local"
                                            [(ngModel)]="quantity_unit"
                                            [ngModelOptions]="{ standalone: true }"
                                        >
                                            <option value="kg">Kg</option>
                                            <option value="lb">lb</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-4" *ngIf="showDetails">
                    <p class="fnt-18 fnt-muli fnt-700 black pt-2 pt-md-4">{{ globals.languageJson?.order_details }}</p>

                    <div class="order-details-clr">
                        <div class="row mt-3">
                            <div class="p-0">
                                <img
                                    *ngIf="orderDetails.estate_profile_image_thumbnail_url == ''"
                                    src="assets/images/profile.svg"
                                    alt="User"
                                    class="img-estate profile-pic"
                                />
                                <img
                                    *ngIf="orderDetails.estate_profile_image_thumbnail_url != ''"
                                    src="{{ orderDetails.estate_profile_image_thumbnail_url }}"
                                    alt="User"
                                    class="img-estate profile-pic"
                                />
                            </div>
                            <div class="pull-left">
                                <ul class="details-list p-0 ml-2 ml-md-3">
                                    <li class="estate-name">{{ orderDetails.estate_owner }}</li>
                                    <li class="estate-number pt-1">Coffee Estate</li>
                                </ul>
                            </div>
                            <div class="pull-right ml-auto">
                                <p>
                                    <span class="cursor-pointer">
                                        <img src="assets/images/star-1.png" alt="User" />
                                        <span class="star-no pl-1"> {{ rating }}</span>
                                    </span>
                                </p>
                                <p>
                                    <span
                                        class="bg-msg"
                                        (mouseenter)="greenIconShow = true"
                                        (mouseleave)="greenIconShow = false"
                                    >
                                        <img
                                            class="message-icon"
                                            *ngIf="!greenIconShow"
                                            src="assets/images/message-icon.svg"
                                            alt="Message"
                                        />
                                        <img
                                            class="message-icon"
                                            *ngIf="greenIconShow"
                                            src="assets/images/green-msg-icon.svg"
                                            alt="Message"
                                        />
                                        <span
                                            class="estate-message pl-2"
                                            [ngStyle]="{ color: greenIconShow ? 'green' : '' }"
                                            >{{ globals.languageJson?.message }}</span
                                        >
                                    </span>
                                </p>
                            </div>
                        </div>

                        <div class="row pt-3">
                            <table class="recent-time">
                                <tr>
                                    <td><span class="list-que"> Origin : </span></td>
                                    <td>
                                        <span class="list-ans">
                                            {{ countryName(orderDetails.origin) | titlecase }}
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td><span class="list-que"> Variety : </span></td>
                                    <td>
                                        <span class="list-ans"> {{ orderDetails.variety | titlecase }} </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td><span class="list-que"> Price : </span></td>
                                    <td>
                                        <span class="list-ans"> ${{ orderDetails.price }} USD/kg </span>
                                    </td>
                                </tr>

                                <tr>
                                    <td><span class="list-que"> Quantity : </span></td>
                                    <td>
                                        <span class="list-ans"> {{ orderDetails.quantity }} Kg </span>
                                    </td>
                                </tr>

                                <tr>
                                    <td><span class="list-que"> Date recieved: </span></td>
                                    <td>
                                        <span class="list-ans"> {{ orderDetails.created_at | date: 'd MMM y' }} </span>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <p class="fnt-18 fnt-muli fnt-700 black pt-2 pt-md-4">{{ globals.languageJson?.tasting_notes }}</p>

            <div class="row pt-3 pb-3">
                <div class="col-12 col-md-3 float-md-left">
                    <div class="farm-input">
                        <label class="label p-0">Aroma*</label>
                        <input
                            type="text"
                            placeholder="Please enter"
                            [(ngModel)]="aroma"
                            [ngModelOptions]="{ standalone: true }"
                        />
                    </div>
                </div>
                <div class="col-12 col-md-3 float-md-left">
                    <div class="farm-input">
                        <label class="label p-0">Acidity*</label>
                        <input
                            type="text"
                            placeholder="Please enter"
                            [(ngModel)]="acidity"
                            [ngModelOptions]="{ standalone: true }"
                        />
                    </div>
                </div>
                <div class="col-12 col-md-3 float-md-left">
                    <div class="farm-input">
                        <label class="label p-0">Processing*</label>
                        <input
                            type="text"
                            placeholder="Please enter"
                            [(ngModel)]="processing"
                            [ngModelOptions]="{ standalone: true }"
                        />
                    </div>
                </div>
            </div>

            <div class="row pt-3 pb-3">
                <div class="col-12 col-md-3 float-md-left">
                    <div class="farm-input">
                        <label class="label p-0">Body*</label>
                        <input
                            type="text"
                            placeholder="Please enter"
                            [(ngModel)]="body"
                            [ngModelOptions]="{ standalone: true }"
                        />
                    </div>
                </div>

                <div class="col-12 col-md-3 float-md-left">
                    <div class="farm-input">
                        <label class="label p-0">Flavour*</label>
                        <input
                            type="text"
                            placeholder="Please enter"
                            [(ngModel)]="flavour"
                            [ngModelOptions]="{ standalone: true }"
                        />
                    </div>
                </div>
            </div>

            <div class="row pt-3 pb-3">
                <div class="col-md-6 col-12">
                    <a
                        class="pointer-item"
                        [popover]="allTemplate"
                        placement="right"
                        [outsideClick]="true"
                        container="body"
                        #pop2="bs-popover"
                    >
                        <span class="share-bor"
                            ><img src="assets/images/region-plus.svg" alt="farm" class="dwnd-img" /><span
                                class="share-txt ml-1"
                            >
                                Add Descriptors
                            </span></span
                        >
                    </a>
                    <div class="chips">
                        <mat-chip-list #chipList aria-label="language" class="desk-chips">
                            <mat-chip
                                *ngFor="let language of langChips"
                                [selectable]="selectable"
                                [removable]="removable"
                                (removed)="remove(language)"
                                >{{ language.name }}
                                <img
                                    *ngIf="removable"
                                    class="cross-icon"
                                    src="assets/images/cross-white.svg"
                                    (click)="remove(language)"
                                />
                            </mat-chip>
                        </mat-chip-list>
                    </div>
                </div>
            </div>

            <div class="row pt-3 pb-3">
                <div class="col-12 col-md-6 float-md-left">
                    <div class="farm-input">
                        <label class="label p-0"> Roaster Notes*</label>
                        <textarea
                            type="text"
                            rows="4"
                            cols="50"
                            [(ngModel)]="notes"
                            [ngModelOptions]="{ standalone: true }"
                        ></textarea>
                    </div>
                </div>
            </div>
            <button class="cancel mt-2 mb-5">{{ globals.languageJson?.cancel }}</button>
        </section>
    </div>
</section>

<ng-template #cuppingTemplate>
    <div>
        <ul class="list-group custom-popover flavour_popover">
            <!-- <li class="list-group-item item-color" (click)="setCupping(''); pop6.hide(); pop7.hide();toggleCupping()"><a class="pointer-item">All</a></li> -->
            <li
                class="list-group-item item-color"
                *ngFor="let profile of roastingProfile"
                (click)="setCupping(profile.id); pop6.hide(); pop7.hide(); toggleCupping()"
            >
                <a class="pointer-item">{{ profile.roast_profile_name }}</a>
            </li>
            <!-- <li class="list-group-item item-color" (click)="setCupping('Blinded'); pop6.hide(); pop7.hide();toggleCupping()"><a class="pointer-item">Light - medium 940</a></li>
            <li class="list-group-item item-color" (click)="setCupping('Double-Blinded'); pop6.hide(); pop7.hide();toggleCupping()"><a class="pointer-item">Light - medium 679</a></li> -->
        </ul>
    </div>
</ng-template>

<ng-template #allTemplate>
    <div id="status-content">
        <ul class="list-group custom-popover">
            <li *ngFor="let flavours of roasterFlavourProfile" class="list-group-item item-color">
                <a class="pointer-item" (click)="addLang(flavours); pop2.hide()">{{ flavours.name }}</a>
            </li>
            <!--<li class="list-group-item item-color">
          <a
            class="pointer-item"
            (click)="addLang('Pineapple');pop2.hide()"
            >Pineapple</a
          >
        </li>
         <li class="list-group-item item-color">
          <a
            class="pointer-item"
            (click)=" addLang('Apple');pop2.hide()"
            >Apple</a
          >
        </li>
        <li class="list-group-item item-color">
            <a
              class="pointer-item"
              (click)="addLang('Orange');pop2.hide()"
              >Orange</a
            >
          </li>
          <li class="list-group-item item-color">
            <a
              class="pointer-item"
              (click)=" addLang('Kiwi');pop2.hide()"
              >Kiwi</a
            >
          </li>
          <li class="list-group-item item-color">
              <a
                class="pointer-item"
                (click)=" addLang('Guava');pop2.hide()"
                >Guava</a
              >
            </li>
          <li class="list-group-item item-color">
            <a
              class="pointer-item"
              (click)=" addLang('Grape');pop2.hide()"
              >Grape</a
            >
          </li> -->
        </ul>
    </div>
</ng-template>
