<div class="row">
    <div class="title-header">
        <div class="hover-filters d-inline-block">
            <div class="d-inline border-total col-sm-6" id="status_id">
                <p class="d-inline filter-text" *ngIf="termStatus.name == 'All'">{{globals.languageJson?.status}}&nbsp;</p>
                <a class="pointer-item" [popover]="allTemplate" placement="bottom" container="body" #pop2="bs-popover">
                    <p class="d-inline filter" *ngIf="termStatus.name == 'All'" (click)="toggleStatus()">
                        &nbsp; <img src="{{ showStatus ? 'assets/images/down-arrow.svg' : 'assets/images/user-down.svg'}}" />
                    </p>
                </a>
                <a class="pointer-item" [popover]="allTemplate" placement="bottom" container="body" #pop="bs-popover">
                    <p class="d-inline filter" *ngIf="termStatus.name != 'All'" (click)="toggleStatus()">
                        {{ termStatus.name }}&nbsp; <img src="{{ showStatus ? 'assets/images/down-arrow.svg' : 'assets/images/user-down.svg'}}" />
                    </p>
                </a>
            </div>
        </div>

        <div class="d-inline display_div">
            <div class="hover-filters d-inline-block">
                <div class="float-right border-order top-space" id="display_id">
                    <p class="d-inline filter-text">Display &#9679;</p>
                    <a class="pointer-item" [popover]="displayTemplate" placement="bottom" [outsideClick]="true" container="body" #pop9="bs-popover">
                        <p class="d-inline filter" *ngIf="display == '-1'" (click)="toggleDisplay()">
                            &nbsp; &nbsp; <img src="{{ showDisplay ? 'assets/images/down-arrow.svg' : 'assets/images/user-down.svg'}}" />
                        </p>
                    </a>
                    <a class="pointer-item" [popover]="displayTemplate" placement="bottom" [outsideClick]="true" container="body" #pop10="bs-popover">
                        <p class="d-inline filter" *ngIf="display != '-1'" (click)="toggleDisplay()">
                            {{ display }}&nbsp; &nbsp; <img src="{{ showDisplay ? 'assets/images/down-arrow.svg' : 'assets/images/user-down.svg'}}" />
                        </p>
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="table-container mb-2 mt-4">
    <div class="table-responsive" *ngIf="globals.permissions['coffee-list'].view || globals.permissions['coffee-management'].manage">
        <table class="table">
            <thead class="table-header">
                <tr class="header-row">
                    <!-- <th>
                        <label class="b-check first-t check-top-header">
                                        <input type="checkbox" checked="checked"  name="all" [checked]="isAllChecked()" (change)="checkAll($event)" >
                                        <span class="checkmark"></span>
                                    </label>
                    </th> -->
                    <th scope="col">Product Name</th>
                    <th scope="col">Availibility Name</th>
                    <th scope="col">
                        Origin
                    </th>
                    <th scope="col">Variety</th>
                    <th scope="col">Available</th>
                    <th scope="col">Cup score</th>
                    <th scope="col">Status</th>
                    <th scope="col">{{globals.languageJson?.actions}}</th>
                    <th scope="col"></th>

                </tr>
            </thead>
            <tbody class="customtable">
                <tr class="ticket-boby-txt cursor-pointer" *ngFor="let item of mainData">
                    <!-- <td>
                        <label class="b-check check-middle-header">
                                        <input type="checkbox" name="sizecb[]" value="{{ item.id }}"  [(ngModel)]="item.state"/>
                                        <span class="checkmark"></span>
                                    </label>
                    </td> -->
                    <td>
                        {{ item.product_name }}
                    </td>
                    <td>{{ item.availability_name }}</td>
                    <td>{{ item.origin }} </td>
                    <td>{{ item.variety }}</td>
                    <td>{{ item.quantity }} {{item.quantity_type}} </td>
                    <td>
                        {{item.cup_score}}
                    </td>

                    <td>
                        {{item.status}}
                    </td>
                    <td class="view-order" routerLink="/features/green-coffee-for-sale-details" [queryParams]="{orderId: item.order_id}">view</td>
                    <td>
                        <a class="menu-arrow" [popover]="poplistTemplate" placement="left" [outsideClick]="true" #pop="bs-popover">
                            <p><img class="ellipse-image" src="assets/images/ellipses.png" alt=""></p>
                        </a>
                        <ng-template #poplistTemplate>
                            <div id="popover-mobile-content">
                                <ul class="list-group custom-popover">
                                    <li class="list-group-item" *ngIf="globals.checkItem('coffee-management') && globals.permissions['coffee-management'].manage"> <a class="pointer-item" (click)="pop.hide();">Edit </a></li>
                                    <li class="list-group-item" *ngIf="globals.checkItem('coffee-management') && globals.permissions['coffee-management'].manage"><a class="pointer-item" (click)="pop.hide();">Delete</a></li>
                                </ul>
                            </div>
                        </ng-template>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>


<ng-template #allTemplate>
    <div id="status-content">
        <ul class="list-group">
            <li class="list-group-item item-color">
                <a class="pointer-item" (click)="setStatus('All', 'All'); pop.hide(); pop2.hide();toggleStatus()">All</a>
            </li>
            <li class="list-group-item item-color">
                <a class="pointer-item" (click)="setStatus('Instock', 'IN_STOCK'); pop.hide(); pop2.hide();toggleStatus()">Instock</a>
            </li>
            <li class="list-group-item item-color">
                <a class="pointer-item" (click)="setStatus('Hidden', 'HIDDEN'); pop.hide(); pop2.hide();toggleStatus()">Hidden</a>
            </li>
            <li class="list-group-item item-color">
                <a class="pointer-item" (click)="setStatus('Sold', 'SOLD'); pop.hide(); pop2.hide();toggleStatus()">Sold</a>
            </li>
        </ul>
    </div>
</ng-template>



<ng-template #displayTemplate>
    <div id="status-content">
        <ul class="list-group custom-popover">
            <li class="list-group-item item-color">
                <a class="pointer-item" (click)="setDisplay('');pop9.hide();pop10.hide();toggleDisplay()">All</a>
            </li>
            <li class="list-group-item item-color">
                <a class="pointer-item" (click)="setDisplay('10');pop9.hide();pop10.hide();toggleDisplay()">10</a>
            </li>
            <li class="list-group-item item-color">
                <a class="pointer-item" (click)="setDisplay('20');pop9.hide();pop10.hide();toggleDisplay()">20</a>
            </li>
            <li class="list-group-item item-color">
                <a class="pointer-item" (click)="setDisplay('25');pop9.hide();pop10.hide();toggleDisplay()">25</a>
            </li>
            <li class="list-group-item item-color">
                <a class="pointer-item" (click)="setDisplay('50');pop9.hide();pop10.hide();toggleDisplay()">50</a>
            </li>
        </ul>
    </div>
</ng-template>


<ng-template #displayTemplate>
    <div id="status-content">
        <ul class="list-group custom-popover">
            <li class="list-group-item item-color" (click)="setDisplay('');pop9.hide();">
                <a class="pointer-item">All</a>
            </li>
            <li class="list-group-item item-color" (click)="setDisplay('10');pop9.hide();">
                <a class="pointer-item">10</a>
            </li>
            <li class="list-group-item item-color" (click)="setDisplay('20');pop9.hide();">
                <a class="pointer-item">20</a>
            </li>
            <li class="list-group-item item-color" (click)="setDisplay('25');pop9.hide();">
                <a class="pointer-item">25</a>
            </li>
            <li class="list-group-item item-color" (click)="setDisplay('50');pop9.hide();">
                <a class="pointer-item">50</a>
            </li>
        </ul>
    </div>
</ng-template>