<div>
    <div class="bg-fff">
        <div class="row">
            <div class="back-page cursor-pointer">
                <a class="back-href fnt-500" routerLink="/features/sourcing"
                    ><img class="back-arrow-butn mr-2" src="assets/images/back-arrow-1.png" /> Back</a
                >
            </div>
            <div class="source-knowmore pull-right ml-auto">
                <a class="know-more">Cancel</a>
                <a class="contact-us">Continue</a>
            </div>
        </div>

        <div class="mt-2 mb-4">
            <h5 class="fnt-18 fnt-muli fnt-700 txt-clr334">Select an order</h5>
            <p class="fnt-14 fnt-400 fnt-muli txt-clr334">
                Please select an estate order to create a roaster coffee batch for
            </p>
        </div>

        <div class="row">
            <div class="title-header d-inline desk_view_user col-12">
                <div
                    class="d-inline border-order role-div col-sm-6"
                    id="origin_id"
                    [outsideClick]="true"
                    (onShown)="toggleOrigin()"
                    (onHidden)="toggleOrigin()"
                    [popover]="originTemplate"
                    placement="bottom"
                    container="body"
                    #pop4="bs-popover"
                >
                    <!-- <p class="d-inline">Role:</p><p class="d-inline filter"> All&nbsp;  <a data-toggle="popover-roles" data-placement="bottom"><img src="assets/images/active.png"></a></p> -->
                    <p class="d-inline filter-text" *ngIf="estatetermOrigin == ''">Origin&nbsp;</p>
                    <a class="pointer-item">
                        <p class="d-inline filter" *ngIf="estatetermOrigin == ''">
                            &nbsp;
                            <img
                                src="{{ showOrigin ? 'assets/images/active-user.svg' : 'assets/images/user-down.svg' }}"
                            />
                        </p>
                    </a>
                    <a class="pointer-item">
                        <p class="d-inline filter" *ngIf="estatetermOrigin != ''">
                            {{ estatetermOrigin }} &nbsp;<img
                                src="{{ showOrigin ? 'assets/images/active-user.svg' : 'assets/images/user-down.svg' }}"
                            />
                        </p>
                    </a>
                </div>
                &nbsp;&nbsp;

                <div class="d-inline border-order date-div col-sm-6" (click)="openCalendar($event)">
                    <p class="d-inline filter-text">
                        Date range &nbsp;
                        <span *ngIf="showDateRange != ''">{{ showDateRange }}</span>
                    </p>

                    <a class="pointer-item">
                        <p class="d-inline filter">
                            <p-calendar
                                #calendar
                                styleClass="only-icon"
                                [(ngModel)]="rangeDates"
                                (onSelect)="filterDate($event)"
                                selectionMode="range"
                                dateFormat="dd.mm.yy"
                                [readonlyInput]="true"
                                [showButtonBar]="true"
                            ></p-calendar>
                            &nbsp; <img src="assets/images/active-calender.png" alt="" />
                            <!-- <p-calendar [(ngModel)]="selected" selectionMode="range" [readonlyInput]="true" [showIcon]="true" #dateFilter>
                            </p-calendar> -->
                        </p>
                    </a>
                </div>
                &nbsp;&nbsp;
                <div class="d-inline display_div">
                    <div
                        class="float-right border-order top-space"
                        id="display_id"
                        [outsideClick]="true"
                        (onShown)="toggleDisplay()"
                        (onHidden)="toggleDisplay()"
                        [popover]="displayTemplate"
                        placement="bottom"
                        container="body"
                        #pop6="bs-popover"
                    >
                        <p class="d-inline filter-text">Display &#9679;</p>
                        <a class="pointer-item">
                            <p class="d-inline filter" *ngIf="displayNumbers == '-1'">
                                &nbsp; &nbsp;
                                <img
                                    src="{{
                                        showDisplay ? 'assets/images/active-user.svg' : 'assets/images/user-down.svg'
                                    }}"
                                />
                            </p>
                        </a>
                        <a class="pointer-item">
                            <p class="d-inline filter" *ngIf="displayNumbers != '-1'">
                                {{ displayNumbers }}&nbsp; &nbsp;
                                <img
                                    src="{{
                                        showDisplay ? 'assets/images/active-user.svg' : 'assets/images/user-down.svg'
                                    }}"
                                />
                            </p>
                        </a>
                    </div>
                </div>
            </div>

            <!-- Table -->

            <div class="table-container estate-table mt-2 col-12">
                <table class="estate-boby-txt" datatable [dtOptions]="dtOptions"></table>
            </div>
        </div>
    </div>
</div>

<ng-template #originTemplate>
    <div id="status-content">
        <ul class="list-group custom-popover">
            <li class="list-group-item item-color" (click)="setOrigin(''); pop4.hide()">
                <a class="pointer-item">All</a>
            </li>
            <li class="list-group-item item-color" (click)="setOrigin('Colombia'); pop4.hide()">
                <a class="pointer-item">Colombia</a>
            </li>
            <li class="list-group-item item-color" (click)="setOrigin('Ethopia'); pop4.hide()">
                <a class="pointer-item">Ethopia</a>
            </li>
        </ul>
    </div>
</ng-template>

<ng-template #displayTemplate>
    <div>
        <ul class="list-group custom-popover">
            <li class="list-group-item item-color pointer-item" (click)="setDisplay('-1'); pop6.hide()">
                <a class="pointer-item">All</a>
            </li>
            <li class="list-group-item item-color pointer-item" (click)="setDisplay('10'); pop6.hide()">
                <a class="pointer-item">10</a>
            </li>
            <li class="list-group-item item-color pointer-item" (click)="setDisplay('25'); pop6.hide()">
                <a class="pointer-item">25</a>
            </li>
            <li class="list-group-item item-color pointer-item" (click)="setDisplay('50'); pop6.hide()">
                <a class="pointer-item">50</a>
            </li>
            <li class="list-group-item item-color pointer-item" (click)="setDisplay('100'); pop6.hide()">
                <a class="pointer-item">100</a>
            </li>
        </ul>
    </div>
</ng-template>
