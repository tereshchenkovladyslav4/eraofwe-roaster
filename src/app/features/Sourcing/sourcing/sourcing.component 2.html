<div class="bg-fff">
    <section class="sourcing-main">
        <div class="row  clearfix">
            <div class="col-sm-6">
                <div class="sourcing-border d-flex">
                    <div class="d-inline filter-set space-width">
                        <p class="d-inline select-origin" *ngIf="origin == ''">Select origin&nbsp;&nbsp;</p>
                        <!-- <p class="d-inline filter-text" *ngIf="origin == ''">Origin&nbsp;</p> -->
                        <a class="pointer-item" [popover]="originTemplate" placement="bottom" container="body" #pop2="bs-popover">
                            <p class="d-inline filter" *ngIf="origin == ''">
                                &nbsp; <img src="assets/images/active-user.png" />
                            </p>
                        </a>
                        <a class="pointer-item" [popover]="originTemplate" placement="bottom" container="body" #pop1="bs-popover">
                            <p class="d-inline filter" *ngIf="origin != ''">
                                {{ origin }} &nbsp;<img src="assets/images/active-user.png" />
                            </p>
                        </a>
                    </div>
                    <div class="d-inline filter-set space-width">
                        <p class="d-inline add-variety">Add variety&nbsp;&nbsp;</p>
                        <a class="pointer-item">
                            <p class="d-inline filter">
                                &nbsp; <img src="assets/images/active-user.png" />
                            </p>
                        </a>
                        <!-- <a class="pointer-item" [popover]="originTemplate" placement="bottom" container="body" #pop1="bs-popover">
                                    <p class="d-inline filter" *ngIf="estatetermOrigin != ''" (click)="toggleOrigin()">
                                        {{ estatetermOrigin }} &nbsp;<img src="{{ showOrigin ? 'assets/images/active-user.png' : 'assets/images/user-down.svg'}}" />
                                    </p>
                                </a> -->
                    </div>
                    <input class="d-inline search-name filter-set" type="text" name="sourcingName" id="sourcingName" [(ngModel)]="termSearch" placeholder="Search by name">
                </div>
            </div>
        </div>
        <div class="row pt-4 pb-4">
            <div class="title-header">
                <div class="d-inline border-grade col-sm-6" id="grade_id">
                    <p class="d-inline filter-text" *ngIf="grade == ''">Grade&nbsp;</p>
                    <a class="pointer-item" [popover]="gradeTemplate" placement="bottom" container="body" #pop4="bs-popover">
                        <p class="d-inline filter" *ngIf="grade == ''" (click)="toggleGrade()">
                            &nbsp; <img src="{{ showGrade ? 'assets/images/active-user.png' : 'assets/images/user-down.svg'}}" />
                        </p>
                    </a>
                    <a class="pointer-item" [popover]="gradeTemplate" placement="bottom" container="body" #pop5="bs-popover">
                        <p class="d-inline filter" *ngIf="grade != ''" (click)="toggleGrade()">
                            {{ grade }} &nbsp;<img src="{{ showGrade ? 'assets/images/active-user.png' : 'assets/images/user-down.svg'}}" />
                        </p>
                    </a>
                </div>&nbsp;&nbsp;
                <div class="d-inline border-grade col-sm-6" id="crop_id">
                    <p class="d-inline filter-text" *ngIf="crop == ''">Crop year&nbsp;</p>
                    <a class="pointer-item" [popover]="cropTemplate" placement="bottom" container="body" #pop6="bs-popover">
                        <p class="d-inline filter" *ngIf="crop == ''" (click)="toggleCrop()">
                            &nbsp; <img src="{{ showCrop ? 'assets/images/active-user.png' : 'assets/images/user-down.svg'}}" />
                        </p>
                    </a>
                    <a class="pointer-item" [popover]="cropTemplate" placement="bottom" container="body" #pop7="bs-popover">
                        <p class="d-inline filter" *ngIf="crop != ''" (click)="toggleCrop()">
                            {{ crop }} &nbsp;<img src="{{ showCrop ? 'assets/images/active-user.png' : 'assets/images/user-down.svg'}}" />
                        </p>
                    </a>
                </div>&nbsp;&nbsp;
                <div class="d-inline border-grade col-sm-6">
                    <p class="d-inline filter-text">More filters&nbsp;</p>
                    <a class="pointer-item">
                        <p class="d-inline filter" (click)="openModal(filterTemplate);">
                            &nbsp; <img src="assets/images/active-user.png" />
                        </p>
                    </a>

                </div>&nbsp;&nbsp;
                <div class="d-inline border-grade col-sm-6">
                    <p class="d-inline filter-text">Advanced search&nbsp;</p>
                    <a class="pointer-item">
                        <p class="d-inline filter">
                            &nbsp; <img src="assets/images/active-user.png" />
                        </p>
                    </a>

                </div>&nbsp;&nbsp;
                <div class="d-inline border-grade col-sm-6" id="weight_id">
                    <p class="d-inline filter-text" *ngIf="weight == ''">KG&nbsp;</p>
                    <a class="pointer-item" [popover]="weightTemplate" placement="bottom" container="body" #pop3="bs-popover">
                        <p class="d-inline filter" *ngIf="weight == ''" (click)="toggleWeight()">
                            &nbsp; <img src="{{ showWeight ? 'assets/images/active-user.png' : 'assets/images/user-down.svg'}}" />&nbsp;
                        </p>
                    </a>
                    <a class="pointer-item" [popover]="weightTemplate" placement="bottom" container="body" #pop8="bs-popover">
                        <p class="d-inline filter" *ngIf="weight != ''" (click)="toggleWeight()">
                            {{ weight }} &nbsp;<img src="{{ showWeight ? 'assets/images/active-user.png' : 'assets/images/user-down.svg'}}" />
                        </p>
                    </a>
                </div>
            </div>
        </div>

        <div class="sourcing-panel">
            <section id="tabs">
                <div class="source-cont">
                    <div class="row">
                        <div class="col-lg-12 ">
                            <div class="filter-sort">
                                <div class="d-inline border-grade col-sm-6 mr-2" id="sort_id">
                                    <p class="d-inline filter-text" *ngIf="sort == ''">Sort by&nbsp;</p>
                                    <a class="pointer-item" [popover]="sortTemplate" placement="bottom" container="body" #pop10="bs-popover">
                                        <p class="d-inline filter" *ngIf="sort == ''" (click)="toggleSort()">
                                            &nbsp; <img src="{{ showSort ? 'assets/images/active-user.png' : 'assets/images/user-down.svg'}}" />
                                        </p>
                                    </a>
                                    <a class="pointer-item" [popover]="sortTemplate" placement="bottom" container="body" #pop9="bs-popover">
                                        <p class="d-inline filter" *ngIf="sort != ''" (click)="toggleSort()">
                                            {{ sort }}&nbsp;<img src="{{ showSort ? 'assets/images/active-user.png' : 'assets/images/user-down.svg'}}" />
                                        </p>
                                    </a>
                                </div>
                                <div class="btn-group">
                                    <!-- <button type="button" class="btn btn-default btn-switch activate-toggle active"> <span class="goods">Yes</span></button> -->
                                    <a class="btn-switch remove-toggle">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="10" viewBox="0 0 14 10">
                                                <path fill="#FFF" d="M13.25 8c.414 0 .75.336.75.75s-.336.75-.75.75h-9.5c-.414 0-.75-.336-.75-.75S3.336 8 3.75 8h9.5zM.75 8c.414 0 .75.336.75.75s-.336.75-.75.75S0 9.164 0 8.75.336 8 .75 8zm12.5-4c.414 0 .75.336.75.75s-.336.75-.75.75h-9.5c-.414 0-.75-.336-.75-.75S3.336 4 3.75 4h9.5zM.75 4c.414 0 .75.336.75.75s-.336.75-.75.75S0 5.164 0 4.75.336 4 .75 4zm12.5-4c.414 0 .75.336.75.75s-.336.75-.75.75h-9.5C3.336 1.5 3 1.164 3 .75S3.336 0 3.75 0h9.5zM.75 0c.414 0 .75.336.75.75s-.336.75-.75.75S0 1.164 0 .75.336 0 .75 0z"/>
                                            </svg>

                                    </a>
                                    <div class="btn-group">
                                        <!-- <button type="button" class="btn btn-default btn-switch remove-toggle"><span class="services">No</span></button> -->
                                        <a class="btn-switch activate-toggle active">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="13" height="13" viewBox="0 0 13 13">
                                                    <path fill="#232334" d="M12.387 7.195c.338 0 .613.275.613.613v4.579c0 .338-.275.613-.613.613H7.808c-.338 0-.613-.275-.613-.613V7.808c0-.338.275-.613.613-.613zm-7.195 0c.338 0 .613.275.613.613v4.579c0 .338-.275.613-.613.613H.613C.275 13 0 12.725 0 12.387V7.808c0-.338.275-.613.613-.613zm6.582 1.226H8.42v3.353h3.353V8.42zm-7.195 0H1.226v3.353H4.58V8.42zM5.192 0c.338 0 .613.275.613.613v4.579c0 .338-.275.613-.613.613H.613C.275 5.805 0 5.53 0 5.192V.613C0 .275.275 0 .613 0zm7.195 0c.338 0 .613.275.613.613v4.579c0 .338-.275.613-.613.613H7.808c-.338 0-.613-.275-.613-.613V.613c0-.338.275-.613.613-.613zM4.579 1.226H1.226V4.58H4.58V1.226zm7.195 0H8.42V4.58h3.353V1.226z"/>
                                                </svg>

                                        </a>
                                    </div>
                                </div>
                            </div>
                            <nav>
                                <div class="nav nav-tabs nav-fill" id="nav-tab" role="tablist">
                                    <a class="nav-item nav-link active" id="nav-home-tab" data-toggle="tab" href="#estates" role="tab" aria-controls="nav-home" aria-selected="true">Estates</a>
                                    <a class="nav-item nav-link" id="nav-profile-tab" data-toggle="tab" href="#green-coffee" role="tab" aria-controls="nav-profile" aria-selected="false">Available green coffee</a>
                                </div>
                            </nav>
                            <div class="tab-content py-4 px-3 px-sm-0" id="nav-tabContent">
                                <div class="tab-pane fade show active" id="estates" role="tabpanel" aria-labelledby="nav-home-tab">
                                    <div class="cardpanel-detail">
                                        <div class="row">
                                            <div class="col-lg-4 col-md-6 " *ngFor="let sample of data | filter : crop | filter : origin | filter : grade | filter :termSearch">
                                                <div class="source-card card-border">
                                                    <div class="s-gal">
                                                        <img [src]="sample.image" alt="">
                                                    </div>
                                                    <div class="s-details">
                                                        <div class="flex">
                                                            <div class=" s-tit">
                                                                <h3>{{sample.estatename}}</h3>
                                                                <h6><span class="fa fa-star checked"></span> {{ sample.rating }}</h6>
                                                            </div>
                                                            <div class="s-cert">
                                                                <ul class="flex">
                                                                    <li><img src="/assets/images/group-certificate.png"></li>
                                                                    <li><img src="/assets/images/group-utz.png"></li>
                                                                    <li><img src="/assets/images/group-certified.png"></li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                        <div class="source-lets flex">
                                                            <div class="orgin-att">
                                                                <label>Origin</label>
                                                                <h6>{{sample.origin}}</h6>
                                                            </div>
                                                            <div class="orgin-att">
                                                                <label>Altitude</label>
                                                                <h6>{{sample.range}}</h6>
                                                            </div>
                                                            <div class="orgin-att">
                                                                <label>Crop year</label>
                                                                <h6>{{sample.cropyear}}</h6>
                                                            </div>
                                                        </div>
                                                        <div class="top-lots">
                                                            <label>Top lots</label>
                                                            <a>Dilema</a>
                                                            <a>Shaya</a>
                                                            <a>Gayni</a>
                                                            <a>+5more</a>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- <app-estate-table></app-estate-table> -->
                                    <div class="table-details">
                                        <div class="table-responsive border-sourcetable">
                                            <table class="table">
                                                <thead class="table-header">
                                                    <tr class="header-row">
                                                        <th scope="col">Estate name</th>
                                                        <th scope="col">
                                                            Rating
                                                            <!-- <img class="pl-2" src="assets/images/combined-shape.svg" /> -->
                                                        </th>
                                                        <th scope="col">Origin</th>
                                                        <th scope="col">Altitude range</th>
                                                        <th scope="col">
                                                            Crop year
                                                        </th>
                                                        <th scope="col">Lots</th>
                                                        <th scope="col">Certificates</th>
                                                    </tr>
                                                </thead>
                                                <tbody class="customtable">
                                                    <tr class="ticket-boby-txt" *ngFor="let estate of data | filter : crop | filter : origin | filter : grade | filter :termSearch">

                                                        <td>{{ estate.estatename }}</td>
                                                        <td><span class="fa fa-star checked pr-2"></span>{{ estate.rating }}</td>
                                                        <td>
                                                            {{ estate.origin }}
                                                        </td>
                                                        <td>{{estate.range}}</td>
                                                        <td>{{ estate.cropyear }} </td>
                                                        <td>
                                                            <div><a class="lot-class pr-3">Dilema</a><a class="lot-class">Shaya</a></div>
                                                            <div><a class="lot-class pr-3">Gayni</a><a class="lot-class">+5more</a></div>
                                                        </td>
                                                        <td>
                                                            <span *ngIf="estate.certificates==3">
                                                                    <img class="pr-2" src="/assets/images/group-certificate.png" /> <img class="pr-2" src="/assets/images/group-utz.png"><img src="/assets/images/group-certified.png">
                                                                </span>
                                                            <span *ngIf="estate.certificates==2"><img class="pr-2" src="/assets/images/group-certificate.png" /> <img class="pr-2" src="/assets/images/group-utz.png"></span>
                                                            <span *ngIf="estate.certificates==1"><img class="pr-2" src="/assets/images/group-utz.png"></span>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="green-coffee" role="tabpanel" aria-labelledby="nav-profile-tab">
                                    <div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab">
                                        <div class="cardpanel-detail">
                                            <div class="row">
                                                <div class="col-lg-4 col-md-6 " *ngFor="let item of coffeedata | filter : origin |  filter :termSearch | filter :weight">
                                                    <div class="source-card card-border green-coffee-product">
                                                        <div class="s-gal">
                                                            <img [src]="item.image" alt="">
                                                            <div class="cupping">
                                                                <p>Cup score {{item.score}}</p>
                                                            </div>
                                                        </div>
                                                        <div class="s-details ">
                                                            <div class="flex">
                                                                <div class="s-tit">
                                                                    <h3>{{item.name}}</h3>
                                                                    <h5>{{item.estatename}}</h5>
                                                                    <h6>{{item.price}}</h6>
                                                                </div>
                                                            </div>
                                                            <div class="source-lets flex">
                                                                <div class="orgin-att">
                                                                    <label>Origin</label>
                                                                    <h6>{{item.origin}}</h6>
                                                                </div>
                                                                <div class="orgin-att">
                                                                    <label>Species</label>
                                                                    <h6>{{item.species}}</h6>
                                                                </div>
                                                                <div class="orgin-att">
                                                                    <label>Flavour</label>
                                                                    <ul class="flo-list">
                                                                        <li>Citrus</li>
                                                                        <li>Floral</li>
                                                                    </ul>
                                                                </div>
                                                            </div>
                                                            <div class="top-lots">
                                                                <label>Available Quantity : <span> {{item.quantity}} of 60kg </span></label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="table-details">
                                            <div class="table-responsive border-coffeetable">
                                                <table class="table">
                                                    <thead class="table-header">
                                                        <tr class="header-row">
                                                            <th>Name</th>
                                                            <th scope="col">Estate name</th>
                                                            <th scope="col"> Origin</th>
                                                            <th scope="col">Species</th>
                                                            <th scope="col">Price</th>
                                                            <!-- <img class="pl-2" src="assets/images/combined-shape.svg" /> -->
                                                            <th scope="col">Quantity</th>
                                                            <th scope="col">Flavour profile</th>
                                                            <th scope="col">Cup score</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody class="customtable">
                                                        <tr class="ticket-boby-txt" *ngFor="let coffeeitem of coffeedata | filter : origin |  filter :termSearch | filter :weight">
                                                            <td>{{ coffeeitem.name }}</td>
                                                            <td>{{ coffeeitem.estatename }}</td>
                                                            <td>{{ coffeeitem.origin }}</td>
                                                            <td>{{coffeeitem.species}}</td>
                                                            <td>{{ coffeeitem.price }} </td>
                                                            <td>{{coffeeitem.quantity}}</td>
                                                            <td class="flavor-coffee">
                                                                <span>Citrus</span><span>Floral</span>
                                                            </td>
                                                            <td>{{coffeeitem.score}}</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </section>
</div>

<ng-template #originTemplate>
    <div id="status-content">
        <ul class="list-group custom-popover">
            <li class="list-group-item item-color">
                <a class="pointer-item" (click)="setOrigin(''); pop1.hide(); pop2.hide()">All</a>
            </li>
            <li class="list-group-item item-color">
                <a class="pointer-item" (click)="setOrigin('Colombia'); pop1.hide(); pop2.hide()">Colombia</a>
            </li>
            <li class="list-group-item item-color">
                <a class="pointer-item" (click)="setOrigin('Ethopia'); pop1.hide(); pop2.hide()">Ethopia</a>
            </li>
        </ul>
    </div>
</ng-template>
<ng-template #gradeTemplate>
    <div id="status-content">
        <ul class="list-group custom-popover">
            <li class="list-group-item item-color"><a class="pointer-item" (click)="setGrade(''); pop4.hide(); pop5.hide();toggleGrade()">All</a></li>
            <li class="list-group-item item-color"><a class="pointer-item" (click)="setGrade('4.45'); pop4.hide(); pop5.hide();toggleGrade()">4.45</a></li>
            <li class="list-group-item item-color"><a class="pointer-item" (click)="setGrade('4.9'); pop4.hide(); pop5.hide();toggleGrade()">4.9</a></li>
            <li class="list-group-item item-color"><a class="pointer-item" (click)="setGrade('4.6'); pop4.hide(); pop5.hide();toggleGrade()">4.6</a></li>
            <li class="list-group-item item-color"><a class="pointer-item" (click)="setGrade('4.2'); pop4.hide(); pop5.hide();toggleGrade()">4.2</a></li>
        </ul>
    </div>
</ng-template>
<ng-template #weightTemplate>
    <div id="status-content">
        <ul class="list-group custom-popover">
            <li class="list-group-item item-color"><a class="pointer-item" (click)="setWeight(''); pop3.hide(); pop8.hide();toggleWeight()">All</a></li>
            <li class="list-group-item item-color"><a class="pointer-item" (click)="setWeight('$7.4 USD / kg'); pop3.hide(); pop8.hide();toggleWeight()">$7.4 USD / kg</a></li>
            <li class="list-group-item item-color"><a class="pointer-item" (click)="setWeight('$5.53USD / kg'); pop3.hide(); pop8.hide();toggleWeight()">$5.53USD / kg</a></li>
            <li class="list-group-item item-color"><a class="pointer-item" (click)="setWeight('$8.92 USD /kg'); pop3.hide(); pop8.hide();toggleWeight()">$8.92 USD /kg</a></li>
            <li class="list-group-item item-color"><a class="pointer-item" (click)="setWeight('$5.6 USD / kg'); pop3.hide(); pop8.hide();toggleWeight()">$5.6 USD / kg</a></li>
        </ul>
    </div>
</ng-template>
<ng-template #cropTemplate>
    <div>
        <ul class="list-group custom-popover">
            <li class="list-group-item item-color"><a class="pointer-item" (click)="setCrop(''); pop6.hide(); pop7.hide();toggleCrop()">All</a></li>
            <li class="list-group-item item-color"><a class="pointer-item" (click)="setCrop('March - June'); pop6.hide(); pop7.hide();toggleCrop()">March - June</a></li>
            <li class="list-group-item item-color"><a class="pointer-item" (click)="setCrop('Jan - March'); pop6.hide(); pop7.hide();toggleCrop()">Jan - March</a></li>
            <li class="list-group-item item-color"><a class="pointer-item" (click)="setCrop('August - Dec'); pop6.hide(); pop7.hide();toggleCrop()">August - Dec</a></li>
        </ul>
    </div>

</ng-template>
<ng-template #sortTemplate>
    <div>
        <ul class="list-group custom-popover">
            <li class="list-group-item item-color"><a class="pointer-item" (click)="setSort('Name (A-Z)'); pop10.hide(); pop9.hide();toggleSort()">Name (A-Z)</a></li>
            <li class="list-group-item item-color"><a class="pointer-item" (click)="setSort('Recently added'); pop10.hide(); pop9.hide();toggleSort()">Recently added</a></li>
            <li class="list-group-item item-color"><a class="pointer-item" (click)="setSort('Cup score'); pop10.hide(); pop9.hide();toggleSort()">Cup score (High-Low)</a></li>
            <li class="list-group-item item-color"><a class="pointer-item" (click)="setSort('Price'); pop10.hide(); pop9.hide();toggleSort()">Price (High - low)</a></li>
            <li class="list-group-item item-color"><a class="pointer-item" (click)="setSort('Quantity'); pop10.hide(); pop9.hide();toggleSort()">Quantity (High- Low)</a></li>
        </ul>
    </div>
</ng-template>

<ng-template #filterTemplate>
    <div class="modal-header">
        <h2 class="more-heading">More filters</h2>
        <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
            <img src="/assets/images/close.svg" alt="">              </button>
    </div>
    <div class="modal-body mb-5">
        <div class="altitude-heading mt-2 mb-1">Altitude Range</div>
        <div class="row border-filter">
            <div class="col-5 d-flex">
                <div class="meter-border">
                    <input type="text" placeholder="" name="" class="col-12 search-div">
                    <span class="meter-data">m</span>
                </div>
                <div class="to-heading to-space">to</div>
                <div class="meter-border">
                    <input type="text" placeholder="" name="" class="col-12 search-div">
                    <span class="meter-data">m</span>
                </div>
            </div>
        </div>
        <!-- <div class="">Flavour profile (A-Z)</div> -->
        <div class="w-100% popup-filter">
            <!-- <ul class="clearfix">
                <li>sdasd</li>
                <li>sdasd</li>
                <li>sdasd</li>
                <li>sdasd</li>
                <li>sdasd</li>
                <li>sdasd</li>
                <li>sdasd</li>
                <li>sdasd</li>
                <li>sdasd</li>

            </ul> -->
        </div>


    </div>

</ng-template>