<div class="total-loader" *ngIf="availableConfirmActive !=1">
    <!-- <img class="loader-gif-sub" src="/assets/images/loader.gif"> -->
    <div><img class="loader-gif web-loader" src="/assets/images/loader.gif">
        <img class="loader-gif mob-loader" src="/assets/images/coffeeloader-mobile.gif">
    </div>
</div>
<div *ngIf="availableConfirmActive == 1">
    <section>
        <div class="container sewn-container section-head-pad">

            <div class="confirm-ffff mob-sec">
                <section class="create-role">
                    <div class="back-icon w-100">
                        <a routerLink="/features/sourcing"><img src="assets/images/back-arrow-confirm.svg">{{globals.languageJson?.back}}</a>
                    </div>
                    <div class="confirm-order mt-3">
                        <div class="row">
                            <div class="col-12 col-md-12">
                                <h4 class="confirm-txt fnt-play">{{globals.languageJson?.confirm_order}}</h4>
                                <div class="fill-txt">{{globals.languageJson?.sample_recieved}}.</div>
                                <div class="fill-txt">{{globals.languageJson?.please_shippment}}</div>
                            </div>
                        </div>
                    </div>
                </section>


            </div>



            <div class="bg-fff">
                <nav role="navigation" aria-labelledby="title-breadcrumb-1" class="breadcrumb1 pt-4 web-sec">
                    <span id="title-breadcrumb-1" class="sr-only"></span>
                    <ul class="bread-nav">
                        <li class="b-cum">
                            <a class="b-cum" routerLink="/features/welcome-aboard">{{globals.languageJson?.home}}</a><span class="padl-r" aria-hidden="true"> <img class="group-img" src="/assets/images/arrow-1.png" alt=""> </span>
                        </li>
                        <!-- <li class="b-cum">
                            <a class="b-cum" routerLink="/features/sourcing">{{globals.languageJson?.sourcing_module}}</a><span class="padl-r" aria-hidden="true"> <img class="group-img" src="/assets/images/arrow-1.png" alt=""> </span>
                        </li> -->
                        <li class="b-cum">
                            <a class="b-cum" routerLink="/features/sourcing">Finca La Pmapa</a><span class="padl-r" aria-hidden="true"> <img class="group-img" src="/assets/images/arrow-1.png" alt=""> </span>
                        </li>
                        <li class="b-cum c-pink">{{globals.languageJson?.confirm_order}}</li>
                    </ul>
                </nav>
                <section class="create-role-sec">
                    <div class="confirm-order mt-4 web-sec">
                        <div class="row">
                            <div class="col-12 col-md-12 col-lg-12">
                                <h4 class="confirm-txt fnt-play">{{globals.languageJson?.confirm_order}}</h4>
                                <div class="fill-txt">{{globals.languageJson?.sample_recieved}}.</div>
                                <div class="fill-txt">{{globals.languageJson?.please_shippment}}</div>
                            </div>
                        </div>
                    </div>
                    <div class="border-div ">
                        <div class="row web-sec">
                            <div class="col-12 details-header pb-2">{{globals.languageJson?.order_details}}</div>
                            <div class="col-12 lot-content table-responsive">
                                <table class="table lot-table">
                                    <thead class="table-head">
                                        <tr>
                                            <th>{{globals.languageJson?.customer}}</th>
                                            <th>{{globals.languageJson?.origin}}</th>
                                            <th>{{globals.languageJson?.variety}}</th>
                                            <th>{{globals.languageJson?.species}}</th>
                                            <th>{{globals.languageJson?.cupping_score}}</th>
                                            <th>{{globals.languageJson?.available_quantity}}</th>
                                            <th>{{globals.languageJson?.rate_per_kg}}</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>{{sourcing.available_estate_name}}</td>
                                            <td>{{sourcing.region}}</td>
                                            <td>{{sourcing.availabilty_variety}} </td>
                                            <td>{{sourcing.availability_species}}</td>
                                            <td>{{sourcing.cup_score}}</td>
                                            <td>{{sourcing.quantity_count}}/{{sourcing.quantity}}{{sourcing.quantity_unit}}</td>
                                            <td>${{sourcing.price}}USD/kg</td>
                                        </tr>
                                    </tbody>

                                </table>
                            </div>
                        </div>
                        <div class="mob-sec">
                            <div class="row">
                                <div class="col-lg-12 mt-2">
                                    <div class="estate-list">
                                        <h3>{{globals.languageJson?.order_details}}</h3>
                                        <table class="recent w-100">
                                            <tr>
                                                <td> <span class="list-ques"> {{globals.languageJson?.customer}} </span></td>
                                                <td> <span class="list-answ"> {{sourcing.available_estate_name}} </span> </td>
                                            </tr>
                                            <tr>
                                                <td> <span class="list-ques">  {{globals.languageJson?.origin}} </span></td>
                                                <td> <span class="list-answ">  {{sourcing.region}} </span> </td>
                                            </tr>
                                            <tr>
                                                <td> <span class="list-ques"> {{globals.languageJson?.variety}} </span></td>
                                                <td> <span class="list-answ">   {{sourcing.availabilty_variety}} </span> </td>
                                            </tr>
                                            <tr>
                                                <td> <span class="list-ques"> {{globals.languageJson?.species}} </span></td>
                                                <td> <span class="list-answ">  {{sourcing.availability_species}}</span> </td>
                                            </tr>
                                            <tr>
                                                <td> <span class="list-ques"> {{globals.languageJson?.cupping_score}}</span></td>
                                                <td> <span class="list-answ">   {{sourcing.cup_score}} </span> </td>
                                            </tr>
                                            <tr>
                                                <td> <span class="list-ques">{{globals.languageJson?.total}} </span></td>
                                                <td> <span class="list-answ">  ${{sourcing.quantity}} </span> </td>
                                            </tr>
                                            <tr>
                                                <td> <span class="list-ques">{{globals.languageJson?.rate_per_kg}}</span></td>
                                                <td> <span class="list-answ"> ${{sourcing.price}}USD/kg</span> </td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="mob-sec space-top">
                            <div class="row">
                                <div class="col-12">
                                    <div class="pull-left ord-quantity">{{globals.languageJson?.select_service}}
                                    </div>
                                </div>
                            </div>
                            <div class="row" *ngIf="flagData == 'buyNow'">
                                <div class="col-sm-12">
                                    <select class="form-control rectangle_dropdown" [(ngModel)]="service">
                            <option value="Import & Delivery service">Import & Delivery Service</option>
                            <option value="I don’t need Import & delivery service">I don’t need Import & delivery service</option>
                        </select>
                                </div>
                                <div class="col-sm-12">
                                    <div class="pull-right ml-auto price-total" *ngIf="service=='I don’t need Import & delivery service'">$0</div>
                                    <div class="pull-right ml-auto price-total" *ngIf="service=='Import & Delivery service'">${{serviceAmount}}</div>

                                </div>
                            </div>
                        </div>
                        <div class="mob-sec space-top">
                            <div class="row">
                                <div class="col-12">
                                    <div class="pull-left ord-quantity">{{globals.languageJson?.order_quantity}}:
                                    </div>
                                    <div class="pull-right ml-auto ">
                                        <div class="d-inline price-tag">${{this.price}}<span class="pl-2">X</span></div>
                                        <div class="d-inline search-border" id="quantity_id">
                                            <input type="text" name="search" class="search" [(ngModel)]="quantity1" placeholder="" />
                                            <span class="bag">kg</span>
                                        </div>
                                        <div class="confirm-ordererror mt-2 ml-5" *ngIf="confirmOrderError != ''">{{confirmOrderError}}</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="mob-sec space-top">
                            <div class="row">
                                <div class="col-12">
                                    <div class="boder-name">
                                        <div class="pull-left amount">{{globals.languageJson?.total_amount}}
                                        </div>
                                        <div class="pull-right ml-auto price-total" *ngIf="quantity==''">$0</div>
                                        <div class="pull-right ml-auto price-total" *ngIf="quantity!='' && service == 'Import & Delivery service'">${{price*quantity+serviceAmount}}</div>
                                        <div class="pull-right ml-auto price-total" *ngIf="quantity!='' && service != 'Import & Delivery service'">${{price*quantity}}</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="mt-3 col-12 col-md-12 col-lg-12 web-sec" *ngIf="flagData == 'buyNow'">
                        <div class="row">
                            <div class="pull-left ord-quantity">{{globals.languageJson?.select_service}}
                            </div>
                        </div>
                        <div class="row">
                            <div class="pull-left col-8 col-md-8 col-lg-8 pl-0">
                                <div class="col-md-5 mt-2 pl-0">
                                    <select class="form-control rectangle_dropdown" [(ngModel)]="service" (change)="serviceChange($event)">
                        <option value="Import & Delivery service">Import & Delivery Service</option>
                        <option value="I don’t need Import & delivery service">I don’t need Import & delivery service</option>
                    </select>
                                </div>
                                <!-- <div class="col-md-3 pull-left">
                    <span class="serviceProvider">Fulfilled by Supremo</span>
                </div> -->
                            </div>
                            <div class="pull-right ml-auto price-total" *ngIf="service=='I don’t need Import & delivery service'">$0</div>
                            <div class="pull-right ml-auto price-total" *ngIf="service=='Import & Delivery service'">${{ship_unit_price*quantity}}</div>
                        </div>
                    </div>

                    <div class="mt-3 col-12 col-md-12 col-lg-12 web-sec">
                        <div class="row">
                            <div class="pull-left ord-quantity">{{globals.languageJson?.order_quantity}}:
                            </div>
                            <!-- <div class="pull-right ml-auto amount">Total amount to be paid</div> -->
                        </div>
                        <div class="row pt-2">
                            <div class="row ">
                                <div class="pull-left box-border" id="quantityId">
                                    <input type="text" name="search" class=" search" [(ngModel)]="quantity" placeholder="" />
                                    <span class="main-bag">kg</span>
                                </div>

                                <div class="d-inline  price-tag">X<span class="pl-2"></span>${{sourcing.price}}</div>

                            </div>

                            <div class="pull-right ml-auto price-total" *ngIf="quantity==''">$0</div>
                            <div class="pull-right ml-auto price-total" *ngIf="quantity!=''">${{sourcing.price*quantity}}</div>
                        </div>
                        <div class="">
                            <div class="confirm-ordererror" *ngIf="confirmOrderError != ''">{{confirmOrderError}}</div>
                        </div>


                        <!-- <div class="row">
                <div class="ord-quantity">Order Quantity:</div>
                <div class="row mt-3 pb-3">
                    <div class="col-8 col-md-7 col-lg-7 pr-0">
                        <input type="text" name="search" class="col-12 search" placeholder="" />
                        <span class="main-bag">Bags</span>

                    </div>
                    <div class="d-inline col-4 col-md-4 col-lg-4 price-tag">X<span class="price-tag pl-2">$480</span> </div>
                </div>
                <div class="pt-4 amount">Total amount to be paid</div>
                <div class="price-total mt-2">$112,500</div>
            </div> -->
                    </div>
                    <div class="mt-3 col-12 col-md-12 col-lg-12 web-sec">
                        <div class="row">
                            <div class="pull-right ml-auto amount">{{globals.languageJson?.total_amount}}</div>
                        </div>
                        <div class="row pt-2">
                            <div class="pull-right ml-auto price-total" *ngIf="quantity=='' && flagData == 'buyNow'">$0</div>
                            <div class="pull-right ml-auto price-total" *ngIf="quantity!='' && service == 'Import & Delivery service' && flagData == 'buyNow'">${{(sourcing.price*quantity)+(ship_unit_price*quantity)}}</div>
                            <div class="pull-right ml-auto price-total" *ngIf="quantity!='' && service != 'Import & Delivery service' && flagData == 'buyNow'">${{(sourcing.price*quantity)}}</div>
                            <div class="pull-right ml-auto price-total" *ngIf="flagData == 'sample'">${{(sourcing.price*quantity)}}</div>

                        </div>
                    </div>

                    <div id="edit-shipping" class="edit-div col-12 col-md-12 col-lg-7 mt-5">
                        <div class="row">
                            <div class="pull-left shipping-addr" *ngIf="this.service == 'I don’t need Import & delivery service' && flagData == 'buyNow'">{{globals.languageJson?.delivery_address}}</div>
                            <div class="pull-left shipping-addr" *ngIf="flagData == 'sample'">{{globals.languageJson?.delivery_address}}</div>
                            <div class="pull-left shipping-addr" *ngIf="service == 'Import & Delivery service' && flagData == 'buyNow'">{{globals.languageJson?.pickup_address}}
                            </div>
                            <div *ngIf="this.service == 'I don’t need Import & delivery service' && flagData == 'buyNow'" class="pull-right ml-auto edit-text" (click)="editAddress();"><img class="edit-icon pr-2" src="assets/images/shape-2.png" alt="Edit">Edit shipping details</div>
                            <div *ngIf="flagData == 'sample'" class="pull-right ml-auto edit-text" (click)="editAddress();"><img class="edit-icon pr-2" src="assets/images/shape-2.png" alt="Edit">Edit shipping details</div>
                        </div>
                        <div class="row mt-2 address-bar">
                            <div class="col-12 col-md-4 col-lg-5 add-text">
                                {{address1}},{{address2}},{{city}},{{state}}-{{zipcode}}
                                <div>{{country}}</div>
                            </div>
                            <div class="col-md-1 col-lg-4"></div>
                            <div class="col-12 col-md-4 col-lg-3 details pl-lg-0">
                                <div>+420 6365719 </div>
                                <div class="pt-2">info@lofbergs.com</div>
                            </div>
                        </div>
                    </div>

                    <div id="form-address" class="ship-top">
                        <div class="shipping-addr mb-4">{{globals.languageJson?.pickup_address}}</div>
                        <form class="form-container">
                            <div class="row">
                                <div class="col-lg-8 ">
                                    <div class="row">
                                        <div class="form-group col-md-6 mt-md-3">
                                            <label for="country">Country<span class="star">*</span></label>
                                            <select id="country" class="form-control country select_order" (keyup)="onKeyPress($event)" [(ngModel)]="country" name="country" required="" (change)="changeCountry()">
                                        <option value="" selected disabled>
                                          {{globals.languageJson?.select_country}}</option
                                        >
                                        <option
                                          *ngFor="let count of confirmOrderService.countryList"
                                          value="{{ count.isoCode }}"
                                          >{{ count.name }}
                                        </option>
                                      </select>
                                            <div class="countryError" *ngIf="countryError != ''">
                                                {{ countryError }}
                                            </div>
                                        </div>
                                        <div class="form-group col-md-6 mt-md-3">
                                            <label for="state">State</label>
                                            <select id="state" class="form-control state select_order" [(ngModel)]="state" name="state" required="">
                                        <option value="" selected disabled>
                                          {{globals.languageJson?.select_state}}</option
                                        >
                                        <option *ngFor="let city of confirmOrderService.cities"
                                          >{{ city }}
                                        </option>
                                      </select>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="form-group col-md-6 mt-md-3">
                                            <label for="address1">{{globals.languageJson?.address}}<span class="star">*</span></label>
                                            <input class="form-control address1" id="address1" name="address1" (keyup)="onKeyPress($event)" [(ngModel)]="address1" type="text" placeholder="Line 1" />
                                            <div class="addressError" *ngIf="addressError != ''">
                                                {{ addressError }}
                                            </div>
                                        </div>
                                        <div class="form-group col-md-6 mt-md-3">
                                            <label for="address2">&nbsp;</label>
                                            <input class="form-control address2" id="address2" name="address2" (keyup)="onKeyPress($event)" [(ngModel)]="address2" type="text" placeholder="Line 2" />

                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="form-group col-md-3 mt-md-3">
                                            <label for="city">{{globals.languageJson?.enter_city}}<span class="star">*</span></label>
                                            <input class="form-control city" id="city" type="text" name="city" (keyup)="onKeyPress($event)" [(ngModel)]="city" placeholder="City" />
                                            <div class="cityError" *ngIf="cityError != ''">
                                                {{ cityError }}
                                            </div>
                                        </div>
                                        <div class="form-group  col-md-3 mt-md-3">
                                            <label for="zipcode">{{globals.languageJson?.zipcode}}<span class="star">*</span></label>
                                            <input class="form-control zipcode" id="zipcode" name="zipcode" type="text" [(ngModel)]="zipcode" placeholder="eg:23134" />
                                            <div class="zipError" *ngIf="zipError != ''">
                                                {{ zipError }}
                                            </div>
                                        </div>
                                        <div class="col-md-6 save-top">
                                            <button type="submit" class="save-address float-right btn" (click)="saveAddress()">{{globals.languageJson?.save_address}}</button>
                                        </div>

                                    </div>

                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="col-12 mt-4 bottom-border">
                        <div class="row">
                            <label class="customcheckbox flavour-text mb-1 top-spacin">
                            <input type="checkbox" class="listCheckbox"  name="filter-check" value="" [(ngModel)]="terms"/>
                            <span class="checkmark head-check"></span>
                            <span class="remeber-left">{{globals.languageJson?.i_have_understood}} <span class="terms-color">{{globals.languageJson?.terms_conditions}}</span> {{globals.languageJson?.platform_agree}}.</span>
                        </label>

                            <!-- <div class="custom-control custom-checkbox mb-1 top-spacing box_mobile">
                    <input type="checkbox" class="custom-control-input" id="custom_check1" name="example1">
                    <label class="custom-control-label text_checkbox" for="custom_check1"><span class="remeber-left">I have read and understood the <span class="terms-color">terms & conditions</span> of the platform, and agree to them.</span></label>
                </div> -->

                        </div>
                        <div class="termError" *ngIf="termError != ''">
                            {{ termError }}
                        </div>
                    </div>
                    <div class="row pb-5 web-sec">
                        <div class="col-12 mt-4 mb-4">
                            <button type="submit" class="place-order float-right btn" (click)="placeOrder()">{{globals.languageJson?.place_order}}</button>
                            <button type="button" class="ord_cancel float-right btn btn-link mr-2" routerLink="/features/available-coffee-list">{{globals.languageJson?.cancel}}</button>
                        </div>
                    </div>
                    <div class="mob-sec mt-4 pb-4 mb-4">
                        <div class="row">
                            <div class="col-12 w-100">
                                <button type="submit" class="col-12 place-order btn" (click)="placeOrderMob()">{{globals.languageJson?.place_order}}</button>

                            </div>
                        </div>
                        <div class="row mt-3">
                            <div class=" col-12 w-100">
                                <button type="button" class="col-12 ord_cancel  btn btn-link" routerLink="/features/available-coffee-list">{{globals.languageJson?.cancel_order}}</button>

                            </div>
                        </div>
                    </div>


                </section>

                <!-- </div> -->
            </div>
        </div>
    </section>

    <ng-template #confirmtemplate>
        <div class="modal-header">
            <!-- <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
            <span aria-hidden="true">&times;</span>
          </button> -->
        </div>
        <div class="modal-body text-center mb-5">
            <img src="/assets/images/group-17.png" alt="">

            <div class="are-sure fnt-play mt-3">
                {{globals.languageJson?.confirm_order}}
            </div>
            <div class="do-account pt-1 pb-2">{{globals.languageJson?.are_you_sure}}</div>
            <div class="pt-4">

                <button class="no-btn " (click)="modalRef.hide();">NO</button>
                <button class="add-btn ml-3"  *ngIf="flagData == 'buyNow'" (click)="modalRef.hide();done()">{{globals.languageJson?.yes}}</button>
                <button class="add-btn ml-3"  *ngIf="flagData == 'sample'" (click)="modalRef.hide();orderSampleDone()">{{globals.languageJson?.yes}}</button>
            </div>

        </div>
    </ng-template>
</div>