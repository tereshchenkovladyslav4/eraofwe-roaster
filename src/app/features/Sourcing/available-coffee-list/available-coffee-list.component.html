<div class="total-loader" *ngIf="availableCoffeeActive != 1">
    <!-- <img class="loader-gif-sub" src="/assets/images/loader.gif"> -->
    <div>
        <img class="loader-gif web-loader" src="/assets/images/loader.gif" />
        <img class="loader-gif mob-loader" src="/assets/images/coffeeloader-mobile.gif" />
    </div>
</div>
<div *ngIf="availableCoffeeActive == 1">
    <section>
        <div class="container sewn-container section-head-pad">
            <div class="bg-fff">
                <div class="avaialble-mob">
                    <div class="back-page mob-left w-100">
                        <a class="back-href fnt-500" routerLink="/features/sourcing"><img class="back-arrow-butn mr-2"
                                src="assets/images/back-arrow-1.png" />
                            {{ globals.languageJson?.back }}</a>
                    </div>
                    <div class="organic-border">
                        <div class="mob-left w-100">
                            <div class="pro-logo d-inline-block">
                                <img src="assets/images/mob-tit-logo.jpg" />
                            </div>
                            <div class="det-tit d-inline-block">
                                <h2>{{ sourcing.available_name }}</h2>
                                <span class="mob-name fnt-muli fnt-600 fnt-14">{{
                                    sourcing.available_estate_name
                                    }}</span>
                            </div>
                        </div>
                    </div>
                    <div class="row mob-left pt-0 pb-0">
                        <div class="col-12">
                            <div class="prodect-gal">
                                <gallery id="basic-test" [items]="items" gallerize></gallery>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="source-cont-available">
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="sourcing-details avaialble-web">
                                <div class="back-page w-100">
                                    <a class="back-href fnt-500" routerLink="/features/sourcing"
                                        [fragment]="'green-coffee'"><img class="back-arrow-butn mr-2"
                                            src="assets/images/back-arrow-1.png" />
                                        Back</a>
                                </div>
                                <div class="w-100 mt-3 clearfix">
                                    <div class="source-det-tit pull-left">
                                        <div class="pro-logo d-inline-block">
                                            <img src="assets/images/tit-logo.PNG" />
                                        </div>
                                        <div class="det-tit d-inline-block">
                                            <h2>{{ sourcing.available_estate_name }}</h2>
                                            <h6>
                                                <span class="fa fa-star checked"></span>{{ sourcing.estate_rating }}
                                            </h6>
                                        </div>
                                    </div>
                                    <div class="source-knowmore-avail pull-right">
                                        <a class="know-more-avail mr-2"
                                            (click)="orderPlace(sourcing.harvestData, 'sample')">{{
                                            globals.languageJson?.order_sample }}</a>
                                        <a class="contact-us-avail" (click)="orderPlace(sourcing.harvestData, 'buyNow')"
                                            *ngIf="
                                                this.globals.checkItem('coffee-management') &&
                                                this.globals.permissions['coffee-management'].manage
                                            ">{{ globals.languageJson?.buy_now }}</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="prodect-details mt-md-4">
                        <div class="row">
                            <div class="col-lg-5 col-md-6 avaialble-web">
                                <div class="prodect-gal">
                                    <gallery id="basic-test" [items]="items" gallerize></gallery>
                                </div>
                                <div class="certify-green mt-5" *ngIf="sourcing.availableCertify != ''">
                                    <h5>Certificates</h5>
                                    <div class="cetify-logo pt-3 d-none d-md-block">
                                        <ul class="clearfix mb-5">
                                            <li class="mb-3" *ngFor="let cert of sourcing.availableCertify">
                                                <img *ngIf="getCertificateData(cert) != ''"
                                                    src="{{ getCertificateData(cert) }}" />
                                                <img *ngIf="getCertificateData(cert) == ''" src="" alt="" />
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-7 col-md-6">
                                <div class="product-description">
                                    <h2 class="available__lot mb-4 mob-id">
                                        {{ globals.languageJson?.lot_id }} - {{ sourcing.lot_id }}
                                    </h2>
                                    <h2 class="p-h2 mb-2 lot-size">{{ sourcing.available_name }}</h2>
                                    <div class="s-certified d-md-none">
                                        <ul class="flex">
                                            <!-- <li><img src="/assets/images/group-certificate.png"></li>
                                            <li><img src="/assets/images/group-utz.png"></li>
                                            <li><img src="/assets/images/group-certified.png"></li> -->
                                            <li class="mb-3" *ngFor="let cert of sourcing.availableCertify">
                                                <img *ngIf="getCertificateData(cert) != ''"
                                                    src="{{ getCertificateData(cert) }}" />
                                                <img *ngIf="getCertificateData(cert) == ''" src="" alt="" />
                                            </li>
                                        </ul>
                                    </div>
                                    <h6 class="p-h6 mb-4">
                                        <img class="mob-img" src="assets/images/location-rating.png" alt="" />
                                        {{ sourcing.region }}
                                    </h6>
                                    <p class="avaialble-web farm-desc">
                                        {{ sourcing.about }}
                                        <!-- This farm has a love story behind it: Among the first generation of coffee growers in this area was Jose Isidro Pereira, a dentist-turned–coffee producer who inherited Fazenda Sertão from his mother when she passed
                                        away—an incident that ended his dentistry career but put him on a path to coffee farming. In 1949, Jose Isidro met the "love of his life," Nazareth, who continues to run the farm her husband left in her care. -->
                                    </p>
                                    <p class="avaialble-mob mb-0 fnt-14 mob-farm-desc fnt-muli">
                                        {{ sourcing.about }}
                                        <!-- The 21st century is the golden age for surgical procedures, among them an increasingly popular method of corrective eye surgery known as LASIK. LASIK is an acronym for the surgery, which stands for Laser Assisted In
                                        Situ Keratomileusis. This procedure has become increasingly reliable, with unresolved complications reported in only 3 to 6 percent of patients. The risk of complications is still there, however, and can take several
                                        different forms. -->
                                    </p>

                                    <div class="row mt-md-4 mt-2">
                                        <div class="col-lg-3 col-md-4 col-sm-6 col-6 mb-md-3 mb-0">
                                            <div class="real-estate p-prices">
                                                <h6>{{ globals.languageJson?.price }} :</h6>
                                                <h3>{{ sourcing.price_unit }}{{ sourcing.price }} USD / kg</h3>
                                            </div>
                                        </div>
                                        <div class="col-lg-2 col-md-4 col-sm-6 col-6 mb-md-3 mb-0">
                                            <div class="real-estate">
                                                <h6>Inco :</h6>
                                                <h3>{{ sourcing.ico_number }}</h3>
                                            </div>
                                        </div>
                                        <div class="col-lg-3 col-md-4 col-sm-6 col-6 mb-md-3 mb-0">
                                            <div class="real-estate">
                                                <h6>{{ globals.languageJson?.available_quantity }} :</h6>
                                                <h3>
                                                    {{ sourcing.quantity_count }} {{ sourcing.quantity_type }} of
                                                    {{ sourcing.quantity }}{{ sourcing.quantity_unit }}
                                                </h3>
                                            </div>
                                        </div>
                                        <div class="col-lg-3 col-md-4 col-sm-6 col-6 mb-md-3 mb-0">
                                            <div class="real-estate">
                                                <h6>{{ globals.languageJson?.minimum_quantity }} :</h6>
                                                <h3>{{ sourcing.initial_quantity }}{{ sourcing.quantity_type }}</h3>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="produect-pro mt-4">
                                        <div class="row">
                                            <div class="col-lg-4 col-md-4 col-sm-6">
                                                <div class="real-estate p-date">
                                                    <h6>12 Feb, 2020</h6>
                                                    <h3>
                                                        {{ globals.languageJson?.cup_score }} : {{ sourcing.cup_score }}
                                                    </h3>
                                                </div>
                                            </div>
                                            <div class="col-lg-4 col-md-4 col-sm-6">
                                                <div class="real-estate">
                                                    <div class="p-photo">
                                                        <img class="fc-img" *ngIf="sourcing.evaluator_dp_thumb != ''"
                                                            [src]="sourcing.evaluator_dp_thumb" alt="" />
                                                        <img *ngIf="sourcing.evaluator_dp_thumb == ''"
                                                            src="assets/images/profile-coffee.jpg" />
                                                    </div>

                                                    <h3>{{ sourcing.evaluator_name }}</h3>
                                                    <h6>Facilitator</h6>
                                                </div>
                                            </div>
                                            <div class="col-lg-4 col-md-4 col-sm-6 v-report">
                                                <a class="view-report">{{ globals.languageJson?.view_report }} </a>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row mt-md-5 mt-3 mb-md-5 mb-0">
                                        <div class="col-lg-3 col-md-3 col-sm-6 col-6 mb-3 pr-0">
                                            <div class="real-estate">
                                                <img src="assets/images/varient.svg" />
                                                <h6>{{ globals.languageJson?.species }}</h6>
                                                <h3>{{ sourcing.availability_species }}</h3>
                                            </div>
                                        </div>
                                        <div class="col-lg-3 col-md-3 col-sm-6 col-6 mb-3 pr-0">
                                            <div class="real-estate">
                                                <img src="assets/images/estate.svg" />
                                                <h6>{{ globals.languageJson?.variety }}</h6>
                                                <h3>{{ sourcing.availabilty_variety }}</h3>
                                            </div>
                                        </div>
                                        <div class="col-lg-3 col-md-3 col-sm-6 col-6 mb-md-3 mb-0 pr-0">
                                            <div class="real-estate">
                                                <img src="assets/images/harveaster.svg" />

                                                <!-- <h6>{{globals.languageJson?.crop_year}}</h6>
                                    <h3>January, 2020</h3> -->
                                                <h6>Harvest Month</h6>
                                                <h3>{{ sourcing.harvest_date | date: 'MMMM ,y' }}</h3>
                                            </div>
                                        </div>
                                        <!-- <div class="col-lg-3 col-md-3 col-sm-6 col-6 mb-md-3 mb-0 pr-0">
                                            <div class="real-estate">
                                                <img src="assets/images/processing.svg">
                                                <h6>{{globals.languageJson?.processing}}</h6>
                                                <h3>Natural/Sun Dried</h3>
                                            </div>
                                        </div> -->
                                    </div>
                                    <div class="row mt-md-5 mt-3 mb-md-5 mb-0">
                                        <div class="col-lg-3 col-md-3 col-sm-6 col-6 mb-3 mr-md-5 mr-0 pr-0">
                                            <div class="real-estate">
                                                <img src="assets/images/flavour-image.svg" />
                                                <h6>{{ globals.languageJson?.flavour_profile }}</h6>
                                                <!-- <div class="flavor-coffee">
                                                        <span class="mb-2">Honey</span><span class="mb-2">Spices</span>
                                                    </div>
                                                    <div class="flavor-coffee">
                                                        <span>Citrus</span>
                                                    </div> -->
                                                <h3 *ngIf="sourcing.flavours != null">
                                                    {{ sourcing.flavours }}
                                                    <!-- Fruity, Jasmine, 
                                                        High sweetness, 
                                                        Jammy -->
                                                </h3>
                                                <h3 *ngIf="sourcing.flavours == null">NA</h3>
                                            </div>
                                        </div>
                                        <!-- <div class="col-lg-3 col-md-3 col-sm-6 col-6 mb-md-3 mb-0 pr-0">
                                                <div class="real-estate">
                                                    <img src="assets/images/processing.svg">
                                                    <h6>{{globals.languageJson?.processing}}</h6>
                                                    <h3>Natural/Sun Dried</h3>
                                                </div>
                                            </div> -->
                                        <div class="col-lg-3 col-md-3 col-sm-6 col-6 mb-md-3 mb-0 pr-0">
                                            <div class="real-estate">
                                                <img src="assets/images/altitute.svg" />
                                                <h6>Altitude range</h6>
                                                <h3>
                                                    {{ sourcing.min_altitude_coffee }}-{{
                                                    sourcing.max_altitude_coffee
                                                    }}
                                                    m
                                                </h3>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row avaialble-web">
                                        <div class="col-lg-12">
                                            <div class="estate-focus">
                                                <h3>{{ globals.languageJson?.estate_details }}</h3>
                                                <ul class="clearfix">
                                                    <li>
                                                        <label>Location :</label>
                                                        <p>{{ sourcing.state }}</p>
                                                    </li>
                                                    <li>
                                                        <label>Region :</label>
                                                        <p>{{ sourcing.region }}</p>
                                                    </li>
                                                    <li>
                                                        <label>Type :</label>
                                                        <p>{{ sourcing.type }}</p>
                                                    </li>
                                                    <li>
                                                        <label>Listing Status :</label>
                                                        <p>{{ sourcing.listing_status }}</p>
                                                        <!-- <p class="detail-location">Tapachu Mill <img class="pl-2" src="assets/images/tilt-arrow.svg" alt=""></p> -->
                                                    </li>
                                                    <li>
                                                        <label>Wet Mill processing :</label>
                                                        <p>{{ sourcing.wet_process }}</p>
                                                    </li>
                                                    <li>
                                                        <label>Fermentation/hr :</label>
                                                        <p>{{ sourcing.wet_fermentation }}</p>
                                                    </li>
                                                    <li>
                                                        <label>Dry milling process :</label>
                                                        <p>{{ sourcing.dry_process }}</p>
                                                    </li>
                                                    <li>
                                                        <label>Drying period :</label>
                                                        <p>{{ sourcing.dry_period }}</p>
                                                    </li>
                                                    <li>
                                                        <label>Water activity :</label>
                                                        <p>{{ sourcing.dry_water_activity }}</p>
                                                    </li>

                                                    <li>
                                                        <label>Moisture :</label>
                                                        <p>{{ sourcing.dry_moisture_content }}</p>
                                                    </li>
                                                    <li>
                                                        <label>Packaging :</label>
                                                        <p>{{ sourcing.packaging }}</p>
                                                    </li>
                                                </ul>
                                                <p class="fnt-muli fnt-14 fnt-500 know-listing"
                                                    (click)="brandProfileSite()">
                                                    Know more about the listing
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="prodect-details avaialble-mob mt-3">
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="estate-focus">
                                    <h3>{{ globals.languageJson?.estate_facts }}</h3>
                                    <ul class="clearfix">
                                        <li>
                                            <label>{{ globals.languageJson?.moisture }} :</label>
                                            <p>12.5%</p>
                                        </li>
                                        <li>
                                            <label>{{ globals.languageJson?.location }} :</label>
                                            <p>Tapachula</p>
                                        </li>
                                        <li>
                                            <label>{{ globals.languageJson?.region }} :</label>
                                            <p>Chiapas</p>
                                        </li>
                                        <li>
                                            <label>{{ globals.languageJson?.bean_location }} :</label>
                                            <p>At warehouse</p>
                                        </li>
                                        <li>
                                            <label>{{ globals.languageJson?.mill }} :</label>
                                            <p class="detail-location">
                                                Tapachu Mill
                                                <img class="pl-2" src="assets/images/tilt-arrow.svg" alt="" />
                                            </p>
                                        </li>
                                        <li>
                                            <label>{{ globals.languageJson?.altitude }} :</label>
                                            <p>1,000 - 1,600 meters above sea level</p>
                                        </li>
                                        <li>
                                            <label>{{ globals.languageJson?.flavour_profile }} :</label>
                                            <ul class="sugar-prod">
                                                <li>Honey</li>
                                                <li>Dark chocalte</li>
                                                <li>spices</li>
                                            </ul>
                                        </li>
                                        <li>
                                            <label>{{ globals.languageJson?.weather_activity }} :</label>
                                            <p>0.233</p>
                                        </li>
                                        <li>
                                            <label>{{ globals.languageJson?.packaging }} :</label>
                                            <p>Biodegradeable</p>
                                        </li>
                                        <li>
                                            <label>{{ globals.languageJson?.shippingto }} :</label>
                                            <p>Brazil, Europe, America</p>
                                        </li>
                                        <li>
                                            <label>{{ globals.languageJson?.dry_mill }} :</label>
                                            <p>Estoda</p>
                                        </li>
                                        <li>
                                            <label>{{ globals.languageJson?.dry_milling_process }} :</label>
                                            <p>Sun dried</p>
                                        </li>
                                        <li>
                                            <label>{{ globals.languageJson?.dry_descrption }} :</label>
                                            <p>
                                                involves drying of beans with the heat and energy of the sun. The dry
                                                process is the most simple, effective and natural way to drythe beans.
                                            </p>
                                        </li>
                                        <li>
                                            <label>{{ globals.languageJson?.wet_mill }} :</label>
                                            <p>Finca Taiopla</p>
                                        </li>
                                        <li>
                                            <label>{{ globals.languageJson?.wet_mill_process }} :</label>
                                            <p>Washed</p>
                                        </li>
                                        <li>
                                            <label>{{ globals.languageJson?.wet_mill_desc }} :</label>
                                            <p>
                                                Wet processed (washed) coffees are dried without the cherry. Washed
                                                coffee's are de-pulped then usually fermented to promote the separation
                                                of any remaining pectin still stuck to the bean and parchment, then
                                                washed clean prior to drying.
                                            </p>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Chart div starts-->
                    <!-- <div *ngIf="sourcing.polygonId">
                        <app-remote-sensoring [polygonId]="sourcing.polygonId"> </app-remote-sensoring>
                    </div> -->
                    <!-- Chart div ends-->
                </div>
            </div>

            <div class="mt-4 coffee-fff">
                <div class="coffee-space">
                    <div class="heading-other">{{ globals.languageJson?.estates_other_green_coffee }}</div>
                    <div class="cardpanel-detail avaialble-web" *ngIf="sourcing.otherGreenList != null">
                        <div class="row">
                            <span *ngFor="let item of sourcing.otherGreenList">
                                <div class="col-lg-4 col-md-6 col-12 cursor-item"
                                    *ngIf="item.harvest_id != sourcing.harvestData" (click)="lotDetails(item)">
                                    <div class="source-card card-border green-coffee-product">
                                        <div class="s-gal">
                                            <span *ngIf="item.images">
                                                <img *ngIf="item.images[0] != ''" [src]="item.images[0]" alt="" />
                                                <img *ngIf="item.images[0] == ''" src="assets/images/dummy-profile.png"
                                                    alt="" />
                                            </span>
                                            <span *ngIf="!item.images">
                                                <img src="assets/images/dummy-profile.png" alt="" />
                                            </span>
                                            <div class="cupping">
                                                <!-- <p>Cup score {{item.score}}</p> -->
                                                <p *ngIf="item.cup_score != ''">Cup score {{ item.cup_score }}</p>
                                                <p *ngIf="item.cup_score == ''">NA</p>
                                            </div>
                                        </div>
                                        <div class="s-details">
                                            <div class="flex">
                                                <div class="s-tit">
                                                    <h3 *ngIf="item.name != ''">{{ item.name }}</h3>
                                                    <h3 *ngIf="item.name == ''">NA</h3>
                                                    <h5 *ngIf="item['estate']['name'] != ''">
                                                        {{ item['estate']['name'] }}
                                                    </h5>
                                                    <h5 *ngIf="item['estate']['name'] == ''">NA</h5>
                                                    <h6 *ngIf="item.price != ''">
                                                        {{ item.price_unit }}{{ item.price }} USD / kg
                                                    </h6>
                                                    <h6 *ngIf="item.price == ''">NA</h6>
                                                </div>
                                            </div>
                                            <div class="source-lets flex">
                                                <div class="orgin-att">
                                                    <label>{{ globals.languageJson?.origin }}</label>
                                                    <h6 *ngIf="item['lot']['country'] != ''">
                                                        {{ GetCountry(item['lot']['country']) }}
                                                    </h6>
                                                    <h6 *ngIf="item['lot']['country'] == ''">NA</h6>
                                                </div>
                                                <div class="orgin-att">
                                                    <label>{{ globals.languageJson?.variety }}</label>
                                                    <h6 *ngIf="item['lot']['variety'] != ''">
                                                        {{ item['lot']['variety'] }}
                                                    </h6>
                                                    <h6 *ngIf="item['lot']['variety'] == ''">NA</h6>
                                                </div>
                                                <div class="orgin-att">
                                                    <label>{{ globals.languageJson?.flavour }}</label>
                                                    <div *ngIf="item.flavours != null">
                                                        <ul class="flo-list">
                                                            <li *ngFor="let flavour of item.flavours">
                                                                <span class="mb-2">{{ getFlavourName(flavour) }}</span>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                    <div *ngIf="item.flavours == null">NA</div>
                                                </div>
                                            </div>
                                            <div class="top-lots">
                                                <label>{{ globals.languageJson?.available_quantity }} :
                                                    <span>{{ item.quantity_count }} {{ item.quantity_type }} of
                                                        {{ item.total_quantity }}{{ item.quantity_unit }}</span></label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </span>
                        </div>
                    </div>
                    <!-- no-data for Green Coffee availbility Starts -->
                    <div class="row" *ngIf="sourcing.otherGreenList == null">
                        <div class="col-lg-12 col-md-12 no-data-sec">
                            <div class="text-center">
                                <img src="assets/images/table-empty.png" alt="welcome-illustration"
                                    class="error-image" />
                                <h1 class="fnt-18 fnt-700 fnt-muli txt-clr334">No data available</h1>
                                <!-- <p class="fnt-14 fnt-400 fnt-muli txt-clr334 no-data-para">No Land</p> -->
                                <button type="button" class="fnt-14 fnt-600 fnt-muli save"
                                    [routerLink]="['/features/welcome-aboard']">
                                    Browse availabilities
                                </button>
                            </div>
                        </div>
                    </div>
                    <!-- no-data for  Green Coffee availbility Ends -->
                    <!-- Mobile Carousel -->
                    <div class="cardpanel-detail avaialble-mob">
                        <div class="row">
                            <div class="col-lg-4 col-md-6 col-12 cursor-item">
                                <carousel [showIndicators]="true">
                                    <slide class="animated fadeIn" *ngFor="let item of coffeedata">
                                        <div class="source-card card-border green-coffee-product">
                                            <div class="s-gal">
                                                <img [src]="item.image" alt="" />
                                                <div class="cupping">
                                                    <p>{{ globals.languageJson?.cup_score }} {{ item.score }}</p>
                                                </div>
                                            </div>
                                            <div class="s-details">
                                                <div class="flex">
                                                    <div class="s-tit">
                                                        <h3>{{ item.name }}</h3>
                                                        <h5>{{ item.estatename }}</h5>
                                                        <h6>{{ item.price }}</h6>
                                                    </div>
                                                </div>
                                                <div class="source-lets flex">
                                                    <div class="orgin-att">
                                                        <label>{{ globals.languageJson?.origin }}</label>
                                                        <h6>{{ item.origin }}</h6>
                                                    </div>
                                                    <div class="orgin-att">
                                                        <label>{{ globals.languageJson?.variety }}</label>
                                                        <h6>{{ item.species }}</h6>
                                                    </div>
                                                    <div class="orgin-att">
                                                        <label>{{ globals.languageJson?.flavour }}</label>
                                                        <ul class="flo-list">
                                                            <li>Citrus</li>
                                                            <li>Floral</li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="top-lots">
                                                    <label>{{ globals.languageJson?.available_quantity }} :
                                                        <span> {{ item.quantity }} of 60kg </span></label>
                                                </div>
                                            </div>
                                        </div>
                                    </slide>
                                </carousel>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>
<!-- <carousel> -->
<!-- <slide>
          <img src="assets/images/thumbnail-4.jpg" alt="first slide" style="display: block; width: 100%;">
        </slide>
        <slide>
          <img src="assets/images/thumbnail-3.jpg" alt="second slide" style="display: block; width: 100%;">
        </slide>
        <slide>
          <img src="assets/images/thumbnail-1.jpg" alt="third slide" style="display: block; width: 100%;">
        </slide>
      </carousel> -->