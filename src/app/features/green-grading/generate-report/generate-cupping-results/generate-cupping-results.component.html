<div class="back-page w-100 pl-4">
    <a class="view-orders"><img src="assets/images/back-arrow-1.png"> Back</a>
</div>
<section class="cupping__total">

    <div class="row">
        <div class="col-lg-9 col-md-9 col-12">
            <div class="results__info">
                <div class="row">

                    <div class="col-lg-12 col-md-12 col-12">
                        <!-- <div *ngIf="type"> -->
                        <div class="results__head d-flex" *ngIf="type">
                            <div class="pull-left result_text">Results</div>
                            <div class="ml-auto pull-right" *ngFor="let item of evaluatorsList"><span
                                    class="view_process_color color_legend1"></span><span
                                    class="view_process pl-2">{{item.evaluator_name}}</span></div>
                        </div>
                        <div class="mt-3 scroll_chart" *ngIf="type">
                            <!-- <div class="col-lg-12 col-12 p-0"> -->
                            <ngx-charts-bubble-chart [view]="view" [scheme]="colorScheme" [results]="bubbleData"
                                [xAxis]="showXAxis" [yAxis]="showYAxis" [yScaleMin]="yScaleMin" [yScaleMax]="yScaleMax"
                                [minRadius]="minRadius">
                            </ngx-charts-bubble-chart>
                            <!-- </div> -->
                        </div>
                        <!-- </div> -->
                        <!-- <div *ngIf="!type"> -->
                        <div class="results__head d-flex" *ngIf="!type">
                            <div class="pull-left result_text">Results</div>
                            <div class="ml-auto pull-right" *ngFor="let item of evaluatorsList"><span
                                    class="view_process_color color_legend2"></span><span
                                    class="view_process pl-2">{{item.evaluator_name}}</span></div>
                        </div>
                        <div class="mt-3 scroll_chart" *ngIf="!type">
                            <!-- <div class="col-lg-12 col-12 p-0"> -->
                            <ngx-charts-bubble-chart [view]="view" [scheme]="colorSchemeScore" [results]="scoreData"
                                [xAxis]="showXAxisScore" [yAxis]="showYAxisScore" [yScaleMin]="yScaleMinScore"
                                [yScaleMax]="yScaleMaxScore" [minRadius]="minRadiusScore">
                            </ngx-charts-bubble-chart>
                            <!-- </div> -->
                        </div>
                        <!-- </div> -->
                        <!-- <div class="results__body">
                    <div *ngIf="type">Admin</div>
                    <div *ngIf="!type">User</div>
                </div> -->
                    </div>

                </div>
            </div>
        </div>
        <div class="col-lg-3 col-md-3 col-12">
            <!-- <div class="view__info mb-3 p-3 mt-md-0 mt-3" *ngIf="!type">
                <a class="pointer-item">
                    <p class="d-inline result_text">Cupping 1.0 &nbsp; </p>
                    <span class="d-inline filter float-right ml-auto normal-txt">
                        &nbsp; <img src="{{ showRelavant ? 'assets/images/active.png' : 'assets/images/user-down.svg'}}" />
                    </span>
                    <span class="d-inline filter float-right ml-auto">
                          <img src="assets/images/active-user.svg" />
                    </span>
                </a>
            </div> -->
            <div class="view__info mt-md-0 mt-3">
                <div class="view_head">
                    View
                </div>
                <div class="view_body">
                    <div class="d-flex"><input type="radio" name="type" [value]="true" [(ngModel)]="type"
                            [checked]="type"><span class="compare_category pl-2">Compare categories</span></div>
                    <div class="d-flex pt-3"><input type="radio" name="type" [value]="false" [(ngModel)]="type"
                            [checked]="!type"><span class="compare_category pl-2">Compare final scores</span></div>
                </div>
            </div>

            <div class="view__info mt-3">

                <div class="view_body">
                    <h4 class="fnt-40 fnt-700 fnt-muli txt-clr334">{{avgScore}} </h4>
                    <p class=" fnt-18 fnt-600 fnt-muli text-clr588">Average scrore </p>
                </div>
            </div>
        </div>
    </div>
    <div class="row mt-3">
        <div class="col-lg-12 col-md-12 col-12">

            <p class="fnt-18 fnt-muli fnt-700 txt-clr334 m-0">Select evaluators to include in your report </p>

            <!-- <div class="table__info"> -->
            <div class="table-responsive border__cupping">
                <table class="table mb-0">
                    <thead class="table-header">
                        <tr class="header-row">
                            <th>
                                <label class="customcheckbox color-text">
                                    <input type="checkbox" class="listCheckbox" name="filter-check" value="" />
                                    <span class="checkmark head-check"></span>

                                </label> </th>
                            <th>Evaluator</th>
                            <th scope="col">Final Score</th>
                            <th scope="col">Aroma</th>
                            <th scope="col">Dry</th>
                            <th scope="col">Break</th>
                            <th scope="col">Flavour</th>
                            <th scope="col">Aftertaste</th>
                            <th scope="col">Acidity</th>
                            <th scope="col">Body</th>
                            <th scope="col">Balance</th>
                            <th scope="col">Uniformirty</th>
                            <th scope="col">Clean cup</th>
                            <th scope="col">Sweetness</th>
                            <th scope="col">Overall</th>
                        </tr>
                    </thead>
                    <tbody class="customtable">
                        <tr class="ticket-boby-txt" *ngFor="let item of cuppingScoreDetailsArray; let i = index;">
                            <td class="spacing-order" style="width: 40px;">
                                <label class="customcheckbox color-text">
                                    <input type="checkbox" class="listCheckbox" name="filter-check" value="" />
                                    <span class="checkmark head-check"></span>

                                </label>
                            </td>
                            <td>{{item.evaluator_name}}</td>
                            <td>{{item.final_score}}</td>
                            <td>{{item.roast_level}}</td>
                            <td>{{item.fragrance_dry}}</td>
                            <td>{{item.fragrance_break}}</td>
                            <td>{{item.flavour_score}}</td>
                            <td>{{item.aftertaste_score}}</td>
                            <td>{{item.acidity_score}}</td>
                            <td>{{item.body_score}}</td>
                            <td>{{item.balance_score}}</td>
                            <td>{{item.uniformity_score}}</td>
                            <td>{{item.cleancup_score}}</td>
                            <td>{{item.sweetness_score}}</td>
                            <td>{{item.overall_score}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <!-- </div> -->
        </div>
    </div>
    <div class="row">
        <div class="col-12 pt-4">
            <button type="submit" class="generate_report float-right btn font_butn" (click)="submit()">Submit</button>
            <button type="submit" class="regrade_sample float-right btn mr-2 font_butn" (click)="reGrade()">Re-grade
                sample</button>
        </div>
    </div>
</section>


<ng-template #confirmtemplate>
    <div class="modal-header">
        <!-- <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
            <span aria-hidden="true">&times;</span>
          </button> -->
    </div>
    <div class="modal-body text-center mb-5">
        <img src="/assets/images/alert-messaging.png" alt="">

        <div class="are-sure fnt-play mt-3">
            Are you sure want to submit the result
        </div>
        <!-- <div class="do-account pt-1 pb-2">Are you sure you want to place order</div> -->
        <div class="pt-4">

            <button class="btn no-btn" (click)="modalRef.hide();">No</button>
            <button class="btn add-btn ml-3" (click)="modalRef.hide();goNext()">Yes</button>

        </div>



    </div>
</ng-template>