<div animateOnScroll animationName="fadeIn" class="animation-bounce-in-up br-main br-4 h-100 d-flex flex-column">
  <div class="mt-3 mx-3">
    <h3 class="fnt-18 fnt-bold text-black334 px-2">What you customers want</h3>
    <p class="fnt-14 fnt-normal text-gray588 px-2">You get orders for these varieties most</p>
  </div>
  <ng-container *ngIf="varieties && varieties.variety_stats; else blank">
    <div class="chart-block mx-3 flex-fill">
      <div class="position-relative d-flex justify-content-center">
        <ejs-accumulationchart
          id="variety-container"
          style="display: block; width: 92%"
          [legendSettings]="legendSettings"
          [tooltip]="tooltip"
          [enableAnimation]="false"
          height="320px"
        >
          <e-accumulation-series-collection>
            <e-accumulation-series
              [dataSource]="chartData"
              xName="x"
              yName="y"
              [startAngle]="0"
              [endAngle]="360"
              innerRadius="76%"
              radius="80%"
              [explode]="true"
            >
            </e-accumulation-series>
          </e-accumulation-series-collection>
        </ejs-accumulationchart>
        <div class="total-stats text-center">
          <p class="fnt-24 fnt-bold fnt-muli text-black334 mb-0">{{ varieties?.total_varieties || 0 }}</p>
          <p class="fnt-12 fnt-600 fnt-muli text-gray588 mb-0">coffee varieties <br />in demand</p>
        </div>
      </div>
    </div>

    <div class="w-100 text-right p-3">
      <a class="custom-link" routerLink="/features/sourcing"> Manage green coffee </a>
    </div>
  </ng-container>

  <ng-template #blank>
    <div class="flex-fill d-flex flex-column justify-content-center align-items-center text-center p-5">
      <img class="mb-3" src="assets/images/leaf-active.svg" alt="" />
      <p class="fnt-14 fnt-muli fnt-normal text-gray588 mb-4">
        Mark green coffee available for selling to the micro-roasters.
      </p>

      <button class="btn-raised">Manage green coffee</button>
    </div>
  </ng-template>
</div>
