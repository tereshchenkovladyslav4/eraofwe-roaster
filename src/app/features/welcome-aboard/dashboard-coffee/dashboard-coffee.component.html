<div animateOnScroll animationName="fadeIn" class="animation-bounce-in-up h-100">
  <p class="fnt-16 fnt-bold fnt-muli text-black334 mb-1 mb-md-2 d-none d-md-block">Sourced green coffee</p>

  <div *ngIf="stock && stock.stock_stats; else blank" class="p-md-3 br-md-main br-4">
    <div class="row">
      <div animateOnScroll animationName="fadeIn" class="animation-bounce-in-up col-12 col-md-4">
        <div class="chart-block mb-3">
          <div class="fnt-14 fnt-bold text-black334 br-4 bg-f8 p-2 m-1 d-md-none">Total sourced coffee</div>
          <div class="position-relative d-flex justify-content-center">
            <ejs-accumulationchart
              id="stock-container"
              style="display: block; width: 92%"
              [legendSettings]="legendSettings"
              [tooltip]="tooltip"
              [enableAnimation]="false"
              height="320px"
            >
              <e-accumulation-series-collection>
                <e-accumulation-series
                  [dataSource]="chartData"
                  xName="x"
                  yName="y"
                  [startAngle]="0"
                  [endAngle]="360"
                  innerRadius="76%"
                  radius="80%"
                  [explode]="true"
                >
                </e-accumulation-series>
              </e-accumulation-series-collection>
            </ejs-accumulationchart>
            <div class="total-stats text-center">
              <p class="fnt-24 fnt-bold fnt-muli text-black334 mb-0">
                {{ ((stock?.total_coffee || 0) / 1000).toFixed(1) }} ton
              </p>
              <p class="fnt-12 fnt-600 fnt-muli text-gray588 mb-0">Total Coffee sourced</p>
            </div>
          </div>
        </div>
      </div>
      <div animateOnScroll animationName="fadeIn" class="animation-bounce-in-up col-12 col-md-8 d-none d-md-block">
        <div class="mb-3 mb-md-0">
          <div class="fnt-14 fnt-bold text-black334 br-4 bg-f8 p-2 m-1 d-md-none">Source from latest estates</div>
          <div>
            <table *ngIf="orders" class="table w-100">
              <thead class="table-header">
                <tr class="header-row">
                  <th>Order ID</th>
                  <th scope="col">Estate name</th>
                  <th scope="col">Order type</th>
                  <th scope="col">Placed on</th>
                  <th scope="col">Status</th>
                </tr>
              </thead>
              <tbody class="customtable">
                <tr class="ticket-boby-txt" *ngFor="let item of orders.slice(0, 5)">
                  <td>#{{ item.id }}</td>
                  <td>{{ item.estate_name }}</td>
                  <td>{{ item.type }}</td>
                  <td>{{ item.created_at | date: 'd MMM h:mm a' }}</td>
                  <td>{{ item.status }}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>

  <ng-template #blank>
    <div class="p-md-3 br-main br-4">
      <div class="flex-fill d-flex flex-column justify-content-center align-items-center text-center px-4 py-5">
        <img class="mb-3" src="assets/images/leaf-active.svg" alt="" />
        <p class="fnt-14 fnt-muli fnt-normal text-gray588 mb-4">
          You haven't sourced any coffee yet. Start buying coffee from estates to get insights.
        </p>

        <button class="btn-raised">View available green coffee</button>
      </div>
    </div>
  </ng-template>
</div>
