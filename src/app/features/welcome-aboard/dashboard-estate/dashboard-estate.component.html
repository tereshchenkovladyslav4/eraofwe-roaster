<div
    animateOnScroll
    animationName="fadeIn"
    class="animation-bounce-in-up p-md-4 br-md-main br-4 h-100 d-flex flex-column"
>
    <p class="fnt-16 fnt-bold fnt-muli text-black334 mb-1 mb-md-2 d-none d-md-block">Specially for you!</p>
    <p class="fnt-14 fnt-normal fnt-muli text-gray588 mb-2 mb-md-4 d-none d-md-block">
        Here are a few estates you might like to source from.
    </p>

    <p class="fnt-16 fnt-bold fnt-muli text-black334 mb-1 d-md-none">Sourced coffee</p>
    <div class="row flex-fill">
        <div animateOnScroll animationName="fadeIn" class="animation-bounce-in-up col-12 col-md-6 mb-3 mb-md-0">
            <div class="chart-block br-4 h-100 pr-md-4">
                <div class="fnt-14 fnt-bold text-black334 br-4 bg-f8 p-2 m-1 d-md-none">Total sourced coffee</div>
                <div class="h-md-100 d-flex flex-column pt-1 pt-md-2">
                    <app-pie-chart
                        [data]="chartData"
                        [total]="((sourcing?.total_coffee || 0) / 1000).toFixed(0) + ' Tonnes'"
                        [description]="'Total coffee available'"
                    ></app-pie-chart>
                </div>
            </div>
        </div>
        <div animateOnScroll animationName="fadeIn" class="animation-bounce-in-up col-12 col-md-6 mb-3 mb-md-0">
            <div class="estates-block br-4 pt-1 pt-md-2">
                <div class="fnt-14 fnt-bold text-black334 br-4 bg-f8 p-2 m-1 d-md-none">Source from latest estates</div>
                <div class="p-3">
                    <div *ngFor="let item of estates.slice(0, 4)">
                        <div class="d-flex estate-wrap mb-3 pb-md-1">
                            <div class="mr-2 ml-lg-3">
                                <app-avatar
                                    [size]="36"
                                    [src]="item.company_image_thumbnail_url"
                                    [name]="item.name"
                                ></app-avatar>
                            </div>
                            <div>
                                <p class="fnt-14 fnt-bold fnt-muli text-black334 mb-0">{{ item.name }}</p>
                                <p class="fnt-12 fnt-600 fnt-muli text-black334 mb-0">
                                    <span class="text-gray588">Orgin:&nbsp;</span>
                                    {{ item.country }}
                                </p>
                                <p class="fnt-12 fnt-600 fnt-muli text-black334 mb-2">
                                    <span class="text-gray588">Varieties:&nbsp;</span>
                                    {{ item.varieties }}
                                </p>
                            </div>
                        </div>
                    </div>

                    <div class="w-100 text-right text-md-left">
                        <a class="arrow-link" routerLink="/sourcing/estate-list">See all estates</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
